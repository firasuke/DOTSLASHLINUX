+++
title = "The Linux Kernel Configuration Guide Part 3"
slug = "the linux kernel configuration guide part 3"
nick = "kernel3"
date = "2017-08-26"
author = "Firas Khalil Khana"
imgsrc = "/img/kernel3.png"
imgalt = "kernel3"
+++
Before starting with the <mark>General setup</mark> section, there's this important option just before it:
<h3>[*] 64-bit kernel</h3>
```none
Symbol:     CONFIG_64BIT

Help:       Say yes to build a 64-bit kernel - formerly known as x86_64
            Say no to build a 32-bit kernel - formerly known as i386

Type:       boolean

Choice:     built-in [*]
```
<hr/>
<h3>1- General setup</h3>
<h3>() Cross-compiler tool prefix</h3>
```none
Symbol:     CONFIG_CROSS_COMPILE

Help:       Same as running 'make CROSS_COMPILE=prefix-' but stored for
            default make runs in this kernel build directory.  You don't
            need to set this unless you want the configured kernel build
            directory to select the cross-compiler automatically.

Type:       string

Choice:     excluded ()

Reason:     The kernel will be used directly on my laptop and won't be built for another
            system (an ARM system for example).
```
<h3>[ ] Compile also drivers which will not load</h3>
```none
Symbol:     CONFIG_COMPILE_TEST

Help:       Some drivers can be compiled on a different platform than they are
            intended to be run on. Despite they cannot be loaded there (or even
            when they load they cannot be used due to missing HW support),
            developers still, opposing to distributors, might want to build such
            drivers to compile-test them.
            
            If you are a developer and want to build everything available, say Y
            here. If you are a user/distributor, say N here to exclude useless
            drivers to be distributed.

Type:       boolean

Choice:     excluded [ ]

Reason:     This kernel will be built for my laptop so I have no need to compile drivers
            that will run on different platforms as I'm neither a developer nor a tester.
```
<h3>(-DOTSLASHLINUX) Local version - append to kernel release</h3>
```none
Symbol:     CONFIG_LOCALVERSION

Help:       Append an extra string to the end of your kernel version.
            This will show up when you type uname, for example.
            The string you set here will be appended after the contents of
            any files with a filename matching localversion* in your
            object and source tree, in that order.  Your total string can
            be a maximum of 64 characters.

Type:       string

Choice:     -DOTSLASHLINUX

Reason:     In order not to lose track of the custom kernels I build, I like to append
            extra strings to the end of my kernel's version. You can leave it empty
            if you want.
```
<h3>[ ] Automatically append version information to the version string</h3>
```none
Symbol:     CONFIG_LOCALVERSION_AUTO

Help:       This will try to automatically determine if the current tree is a
            release tree by looking for git tags that belong to the current
            top of tree revision.
            
            A string of the format -gxxxxxxxx will be added to the localversion
            if a git-based tree is found.  The string generated by this will be
            appended after any matching localversion* files, and after the value
            set in CONFIG_LOCALVERSION.

            (The actual string used here is the first eight characters produced
            by running the command:

              $ git rev-parse --verify HEAD

            which is done within the script "scripts/setlocalversion".)

Type:       boolean

Choice:     excluded [ ]

Reason:     CONFIG_LOCALVERSION is enough for me. You can leave this empty
            like I did.
```
<h3>Kernel compression mode (LZ4)  ---></h3>
Make sure you have <mark>app-arch/lz4</mark> installed before compiling your kernel.
```none
Symbol:     CONFIG_KERNEL_LZ4

Help:       LZ4 is an LZ77-type compressor with a fixed, byte-oriented encoding.
            A preliminary version of LZ4 de/compression tool is available at
            <https://code.google.com/p/lz4>.
            
            Its compression ratio is worse than LZO. The size of the kernel
            is about 8% bigger than LZO. But the decompression speed is
            faster than LZO.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm basically against compressing your kernel on setups that 
            use fast storage solutions, but since I'm on a slow 5400rpm HDD.
            Therefore,I had to go with LZ4 compression method as it's decompression
            speed is the fastest, and decompression speed is what matters when 
            measuring boot times.

            In my case using an uncompressed kernel slowed boot time down 
            by 300-500ms, so I had to go with LZ4. If your storage is extremely
            fast then I suggest you use an uncompressed kernel (you can find 
            several patches online for building an uncompressed kernel, I'll be 
            talking about applying patches to the kernel once I'm done with this 
            series, until then you can experiment on your own =D).

            Every other compression method is unset. If you wanted your built 
            kernel to have the smallest size possible then use the XZ compression
            method. Just make sure that you have the proper tools for compression
            to prevent errors from popping up.
```
<h3>(DOTSLASHLINUX) Default hostname</h3>
```none
Symbol:     CONFIG_DEFAULT_HOSTNAME

Help:       This option determines the default system hostname before userspace
            calls sethostname(2). The kernel traditionally uses "(none)" here,
            but you may wish to use a different default here to make a minimal
            system more usable with less configuration.

Type:       string

Choice:     DOTSLASHLINUX

Reason:     Since this kernel is being built for my laptop, I'd prefer if my system's
            default hostname was set here rather than having to call the hostname service
            at boot time.

            You know what they say the less services you have at boot time, the faster your
            system boots.

            Change this value to whatever you want your hostname to be.
```
<h3>[*] Support for paging of anonymous memory (swap)</h3>
```none
Symbol:     CONFIG_SWAP

Help:       This option allows you to choose whether you want to have support
            for so called swap devices or swap files in your kernel that are
            used to provide more virtual memory than the actual RAM present
            in your computer.  If unsure say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     My system has 7.7 GiB of ram and I idle at ~60MiB of ram on dwm so
            basically why use swap? It was until recently that I was forced to
            add swap space after running swapless builds for 2 years now.

            I had 9 jobs running, and was trying to build chromium from source, 
            while browsing the web on my seamonkey web browser. Suddenly my system 
            lagged horribly (I had my customization set to maximum throughput) and
            chromium stopped at about 60% saying it ran out of memory (virtual memory). 
            So yeah I had to reinstall gentoo to get my swap space up and running.

            After I learned my lesson the hard way, I'm now convinced that you have to
            have a swap partition on your system. 

            I went with 15.4 GiB of swap space since I tend to open lots of apps when
            compiling (thanks to my highly responsive/minimal latency build I barely
            notice that my system is running 9 jobs building something).
```
<h3>-*- System V IPC</h3>
```none
Symbol:     CONFIG_SYSVIPC

Help:       Inter Process Communication is a suite of library functions and
            system calls which let processes (running programs) synchronize and
            exchange information. It is generally considered to be a good thing,
            and some programs won't run unless you say Y here. In particular, if
            you want to run the DOS emulator dosemu under Linux (read the
            DOSEMU-HOWTO, available from <http://www.tldp.org/docs.html#howto>),
            you'll need to say Y here
            
            You can find documentation about IPC with "info ipc" and also in
            section 6.4 of the Linux Programmer's Guide, available from
            <http://www.tldp.org/guides.html>.

Type:       boolean

Choice:     built-in -*-

Reason:     Well it's forcibly included by CONFIG_GENTOO_LINUX and 
            CONFIG_GENTOO_LINUX_PORTAGE so there's nothing I can do =D.

            This is one of those options you have to enable.
```
<h3>[ ] POSIX Message Queues</h3>
```none
Symbol:     CONFIG_POSIX_MQUEUE

Help:       POSIX variant of message queues is a part of IPC. In POSIX message
            queues every message has a priority which decides about succession
            of receiving it by a process. If you want to compile and run
            programs written e.g. for Solaris with use of its POSIX message
            queues (functions mq_*) say Y here.
            
            POSIX message queues are visible as a filesystem called 'mqueue'
            and can be mounted somewhere if you want to do filesystem
            operations on message queues
            
            If unsure, say Y.

Type:       boolean

Choice:     excluded [ ]

Reason:     I won't be compiling and running programs written for Solaris that
            make use of its POSIX queues so I excluded this option.
```
<h3>[*] Enable process_vm_readv/writev syscalls</h3>
```none
Symbol:     CONFIG_CROSS_MEMORY_ATTACH

Help:       Enabling this option adds the system calls process_vm_readv and
            process_vm_writev which allow a process with the correct privileges 
            to directly read from or write to another process' address space.
            See the man page for more details.

Type:       boolean

Choice:     excluded [ ]

Reason:     It didn't break my system and everything worked fine after excluding
            it.

            If you have a reason why I shouldn't exclude this please post a comment
            below or send me an email explaining why.
```
<h3>[*] open by fhandle syscalls</h3>
```none
Symbol:     CONFIG_FHANDLE

Help:       If you say Y here, a user level program will be able to map
            file names to handle and then later use the handle for
            different file system operations. This is useful in implementing
            userspace file servers, which now track files using handles instead
            of names. The handle would remain the same even if file names
            get renamed. Enables open_by_handle_at(2) and name_to_handle_at(2)
            syscalls.

Type:       boolean

Choice:     built-in [*]

Reason:     This option once caused me headaches trying to determine which option
            was causing my boot process to fail, until I read that it is required by 
            CONFIG_GENTOO_LINUX and CONFIG_GENTOO_LINUX_UDEV. 
```
<h3>[ ] uselib syscall</h3>
```none
Symbol:     CONFIG_USELIB

Help:       This option enables the uselib syscall, a system call used in the
            dynamic linker from libc5 and earlier.  glibc does not use this
            system call.  If you intend to run programs built on libc5 or
            earlier, you may need to enable this syscall.  Current systems
            running glibc can safely disable this.

Type:       boolean

Choice:     excluded [ ]

Reason:     I'm using a "current" system running on glibc and I can safely
            disable this =D.
```
<h3>[ ] Auditing support</h3>
```none
Symbol:     CONFIG_AUDIT

Help:       Enable auditing infrastructure that can be used with another
            kernel subsystem, such as SELinux (which requires this for
            logging of avc messages output).  System call auditing is included
            on architectures which support it.

Type:       boolean

Choice:     excluded [ ]

Reason:     I disabled auditing support as I don't need it and I'm not running SELinux
            or any kernel subsystem that use it.
```
<h3>IRQ subsystem   ---></h3>
<h3>[ ] Expose hardware/virtual IRQ mapping via debugfs</h3>
```none
Symbol:     CONFIG_IRQ_DOMAIN_DEBUG

Help:       This option will show the mapping relationship between hardware irq
            numbers and Linux irq numbers. The mapping is exposed via debugfs
            in the file "irq_domain_mapping".
            
            If you don't know what this means you don't need it.

Type:       boolean

Choice:     excluded [ ]

Reason:     I don't know what it means =D. Nah just kidding, most of the times
            when you see the word debug, you'd want to exclude its option.
```
<h3>[*] Make IRQ threading compulsory</h3>
```none
Symbol:     CONFIG_FORCE_IRQ_THREADING

Help:       Make IRQ threading mandatory for any IRQ handlers that support it
            instead of being optional and requiring the threadirqs kernel
            parameter. Instead they can be optionally disabled with the
            nothreadirqs kernel parameter.
            
            Enable if you are building for a desktop or low latency system,
            otherwise say N.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm building a low latency system so I'll include this option.
```
<h3>Timers subsystem  ---></h3>
<h3>Timer tick handling (Periodic timer ticks (constant rate, no dynticks))  ---></h3>
```none
Symbol:     CONFIG_HZ_PERIODIC

Help:       This option keeps the tick running periodically at a constant
            rate, even when the CPU doesn't need it.

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option in order to achieve lower latencies on my
            Gentoo installation. Exclude this, and include CONFIG_NO_HZ and 
            CONFIG_NO_HZ_IDLE instead if you wanted more throughput (performance).
```
<h3>[ ] Old Idle dynticks config</h3>
```none
Symbol:     CONFIG_NO_HZ

Help:       This is the old config entry that enables dynticks idle.
            We keep it around for a little while to enforce backward
            compatibility with older config files.

Type:       boolean

Choice:     excluded [ ]

Reason:     I already chose CONFIG_HZ_PERIODIC and prioritized latency over throughput.
            You can include this alongside CONFIG_NO_HZ_IDLE and exclude CONFIG_HZ_PERIODIC
            if you wanted more throughput (performance).
```
<h3>-*- High Resolution Timer Support</h3>
```none
Symbol:     CONFIG_HIGH_RES_TIMERS

Help:       This option enables high resolution timer support. If your
            hardware is not capable then this option only increases
            the size of the kernel image.

Type:       boolean

Choice:     built-in -*-

Reason:     Forcefully included by SCHED_MUQSS. Generally, you want to include this option.
```
<h3>CPU/Task time and stats accounting  ---></h3>
<h3>Cputime accounting (Simple tick based cputime accounting)  ---></h3>
```none
Symbol:     CONFIG_TICK_CPU_ACCOUNTING

Help:       This is the basic tick based cputime accounting that maintains
            statistics about user, system and idle time spent on per jiffies
            granularity.
            
            If unsure, say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     The other option CONFIG_VIRT_CPU_ACCOUNTING_GEN is only useful at the moment
            for those who are working on the full dynticks subsystem development, which leaves
            this option to choose.
```
<h3>[ ] Fine granularity task level IRQ time accounting</h3>
```none
Symbol:     CONFIG_IRQ_TIME_ACCOUNTING

Help:       Select this option to enable fine granularity task irq time
            accounting. This is done by reading a timestamp on each
            transitions between softirq and hardirq state, so there can be a
            small performance impact.

            If in doubt, say N here.

Type:       boolean

Choice:     excluded [ ]

Reason:     Impacts performance and makes me in doubt so I excluded it =D.
```
<h3>[ ] BSD Process Accounting</h3>
```none
Symbol:     CONFIG_BSD_PROCESS_ACCT

Help:       If you say Y here, a user level program will be able to instruct the
            kernel (via a special system call) to write process accounting
            information to a file: whenever a process exits, information about
            that process will be appended to the file by the kernel.  The
            information includes things such as creation time, owning user,
            command name, memory usage, controlling terminal etc. (the complete
            list is in the struct acct in <file:include/linux/acct.h>).  It is
            up to the user level program to do useful things with this
            information.  This is generally a good idea, so say Y.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded it to lower overhead, you may want to enable it if you're using
            sys-process/htop on Gentoo Linux, since htop may use this information.
```
<h3>[ ] Export task/process statistics through netlink</h3>
```none
Symbol:     CONFIG_TASKSTATS

Help:       Export selected statistics for tasks/processes through the
            generic netlink interface. Unlike BSD process accounting, the
            statistics are available during the lifetime of tasks/processes as
            responses to commands. Like BSD accounting, they are sent to user
            space on task exit.
            
            Say N if unsure.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded it to lower overhead, you may want to enable it if you're using
            sys-process/htop on Gentoo Linux, since htop may use this information.
```
<h3>RCU Subsystem  ---></h3>
<h3>[*] Make expert-level adjustments to RCU configuration</h3>
```none
Symbol:     CONFIG_RCU_EXPERT

Help:       This option needs to be enabled if you wish to make
            expert-level adjustments to RCU configuration.  By default,
            no such adjustments can be made, which has the often-beneficial
            side-effect of preventing "make oldconfig" from asking you all
            sorts of detailed questions about how you would like numerous
            obscure RCU options to be set up.
            
            Say Y if you need to make expert-level adjustments to RCU.
            
            Say N if you are unsure.

Type:       boolean

Choice:     built-in [*]

Reason:     There are some nice options here to reduce latency so I'll include this
            option. You can exclude this option and its child options as well and settle
            with the default value if throughput (performance) is what you need.
```
<h3>[ ] Use v4.11 classic SRCU implementation</h3>
```none
Symbol:     CONFIG_CLASSIC_SRCU

Help:       This option selects the traditional well-tested classic SRCU
            implementation from v4.11, as might be desired for enterprise
            Linux distributions.  Without this option, the shiny new
            Tiny SRCU and Tree SRCU implementations are used instead.
            At some point, it is hoped that Tiny SRCU and Tree SRCU
            will accumulate enough test time and confidence to allow
            Classic SRCU to be dropped entirely.
            
            Say Y if you need a rock-solid SRCU.
            
            Say N if you would like help test Tree SRCU.

Tyoe:       boolean

Choice:     excluded [ ]

Reason:     I want to use the shiny new Tiny SRCU and Tree SRCU implementations
            (because they sound cool, just kidding =D). Basically any feature
            that'll be dropped, deprecated or obsolete in the future should be 
            excluded, at least that's how I like to configure my kernel.

            You can include this option if you want a rock-solid stable SRCU.
```
<h3>(64) Tree-based hierarchical RCU fanout value</h3>
```none
Symbol:     CONFIG_RCU_FANOUT

Help:       This option controls the fanout of hierarchical implementations
            of RCU, allowing RCU to work efficiently on machines with
            large numbers of CPUs.  This value must be at least the fourth
            root of NR_CPUS, which allows NR_CPUS to be insanely large.
            The default value of RCU_FANOUT should be used for production
            systems, but if you are stress-testing the RCU implementation
            itself, small RCU_FANOUT values allow you to test large-system
            code paths on small(er) systems.
            
            Select a specific number if testing RCU itself.
            
            Take the default if unsure.

Tyoe:       integer

Choice:     default (64)

Reason:     I went with the default value which is 64 on my system as I'm not
            testing RCU.
```
<h3>(16) Tree-based hierarchical RCU leaf-level fanout value</h3>
```none
Symbol:     CONFIG_RCU_FANOUT_LEAF

Help:       This option controls the leaf-level fanout of hierarchical
            implementations of RCU, and allows trading off cache misses
            against lock contention.  Systems that synchronize their
            scheduling-clock interrupts for energy-efficiency reasons will
            want the default because the smaller leaf-level fanout keeps
            lock contention levels acceptably low.  Very large systems
            (hundreds or thousands of CPUs) will instead want to set this
            value to the maximum value possible in order to reduce the
            number of cache misses incurred during RCU's grace-period
            initialization.  These systems tend to run CPU-bound, and thus
            are not helped by synchronized interrupts, and thus tend to
            skew them, which reduces lock contention enough that large
            leaf-level fanouts work well.  That said, setting leaf-level
            fanout to a large number will likely cause problematic
            lock contention on the leaf-level rcu_node structures unless
            you boot with the skew_tick kernel parameter.
            
            Select a specific number if testing RCU itself.
            
            Select the maximum permissible value for large systems, but
            please understand that you may also need to set the skew_tick
            kernel boot parameter to avoid contention on the rcu_node
            structure's locks.
            
            Take the default if unsure.

Type:       integer

Choice:     default (16)

Reason:     I went with the default value which is 16 on my system as I'm not
            testing RCU.
```
<h3>[*] Enable RCU priority boosting</h3>
```none
Symbol:     CONFIG_RCU_BOOST

Help:       This option boosts the priority of preempted RCU readers that
            block the current preemptible RCU grace period for too long.
            This option also prevents heavy loads from blocking RCU
            callback invocation for all flavors of RCU.
            
            Say Y here if you are working with real-time apps or heavy loads
            Say N here if you are unsure.

Type:       boolean

Choice:     built-in [*]

Reason:     Including this option helps reduce latency especially on systems with
            heavy loads.
```
<h3>(1) Real-time priority to use for RCU worker threads</h3>
```none
Symbol:     CONFIG_RCU_KTHREAD_PRIO

Help:       This option specifies the SCHED_FIFO priority value that will be
            assigned to the rcuc/n and rcub/n threads and is also the value
            used for RCU_BOOST (if enabled). If you are working with a
            real-time application that has one or more CPU-bound threads
            running at a real-time priority level, you should set
            RCU_KTHREAD_PRIO to a priority higher than the highest-priority
            real-time CPU-bound application thread.  The default RCU_KTHREAD_PRIO
            value of 1 is appropriate in the common case, which is real-time
            applications that do not have any CPU-bound threads.

            Some real-time applications might not have a single real-time
            thread that saturates a given CPU, but instead might have
            multiple real-time threads that, taken together, fully utilize
            that CPU.  In this case, you should set RCU_KTHREAD_PRIO to
            a priority higher than the lowest-priority thread that is
            conspiring to prevent the CPU from running any non-real-time
            tasks.  For example, if one thread at priority 10 and another
            thread at priority 5 are between themselves fully consuming
            the CPU time on a given CPU, then RCU_KTHREAD_PRIO should be
            set to priority 6 or higher.
            
            Specify the real-time priority, or take the default if unsure.

Type:       boolean

Choice:     default (1)

Reason:     I went with the default value for this option.
```
<h3>(0) Milliseconds to delay boosting after RCU grace-period start</h3>
```none
Symbol:     CONFIG_RCU_BOOST_DELAY

Help:       This option specifies the time to wait after the beginning of
            a given grace period before priority-boosting preempted RCU
            readers blocking that grace period.  Note that any RCU reader
            blocking an expedited RCU grace period is boosted immediately.
            
            Accept the default if unsure.

Type:       integer

Choice:     custom (0)

Reason:     The default value was 500, but I prefer to make to use the lowest
            value for all delay options.

            If you think I shouldn't be doing this please post a comment below
            or send me an email explaining why.
```
<h3>[*] Offload RCU callback processing from boot-selected CPUs</h3>
```none
Symbol:     CONFIG_RCU_NOCB_CPU

Help:       Use this option to reduce OS jitter for aggressive HPC or
            real-time workloads.   It can also be used to offload RCU
            callback invocation to energy-efficient CPUs in battery-powered
            asymmetric multiprocessors.

            This option offloads callback invocation from the set of
            CPUs specified at boot time by the rcu_nocbs parameter.
            For each such CPU, a kthread ("rcuox/N") will be created to
            invoke callbacks, where the "N" is the CPU being offloaded,
            and where the "x" is "b" for RCU-bh, "p" for RCU-preempt, and
            "s" for RCU-sched.  Nothing prevents this kthread from running
            on the specified CPUs, but (1) the kthreads may be preempted
            between each callback, and (2) affinity or cgroups can be used
            to force the kthreads to run on whatever set of CPUs is desired.

            Say Y here if you want to help to debug reduced OS jitter.
            Say N here if you are unsure.
Type:       boolean

Choice:     built-in [*]

Reason:     This is also an option that helps reduce latency.
```
<h3>Build-forced no-CBs CPUs (All CPUs are build_forced no-CBs CPUs)  ---></h3>
```none
Symbol:     CONFIG_RCU_NOCB_CPU_ALL

Help:       This option forces all CPUs to be no-CBs CPUs.  The rcu_nocbs=
            boot parameter will be ignored.  All CPUs' RCU callbacks will
            be executed in the context of per-CPU rcuo kthreads created for
            this purpose.  Assuming that the kthreads whose names start with
            "rcuo" are bound to "housekeeping" CPUs, this reduces OS jitter
            on the remaining CPUs, but might decrease memory locality during
            RCU-callback invocation, thus potentially degrading throughput.
            
            Select this if all CPUs need to be no-CBs CPUs for real-time
            or energy-efficiency reasons. 

Type:       boolean

Choice:     built-in [*]

Reason:     The other options are intended for testing purposes.
```
<h3>< > Kernel .config support</h3>
```none
Symbol:     CONFIG_IKCONFIG

Help:       This option enables the complete Linux kernel ".config" file 
            contents to be saved in the kernel. It provides documentation
            of which kernel options are used in a running kernel or in an
            on-disk kernel.  This information can be extracted from the kernel
            image file with the script scripts/extract-ikconfig and used as
            input to rebuild the current kernel or to build another kernel.
            It can also be extracted from a running kernel by reading
            /proc/config.gz if enabled (below).

Type:       tristate

Choice:     excluded < >

Reason:     I already know my kernel configuration options and have no need to read
            them from /proc/config.gz.
```
<h3>(12) Kernel log buffer size (16 => 64KB, 17 => 128KB)</h3>
```none
Symbol:     CONFIG_LOG_BUF_SHIFT

Help:       Select the minimal kernel log buffer size as a power of 2.
            The final size is affected by LOG_CPU_MAX_BUF_SHIFT config
            parameter, see below. Any higher size also might be forced
            by "log_buf_len" boot parameter.
            
            Examples:
                       17 => 128 KB
                       16 => 64 KB
                       15 => 32 KB
                       14 => 16 KB
                       13 =>  8 KB
                       12 =>  4 KB

Type:       integer

Choice:     custom (12)

Reason:     I generally prefer to use the lowest available value for
            logs. This will result in a smaller kernel; thus, reducing
            boot time.
```
<h3>(12) CPU kernel log buffer size contribution (13 => 8 KB, 17 => 128KB)</h3>
```none
Symbol:     CONFIG_LOG_CPU_MAX_BUF_SHIFT

Help:       This option allows to increase the default ring buffer size
            according to the number of CPUs. The value defines the contribution
            of each CPU as a power of 2. The used space is typically only few
            lines however it might be much more when problems are reported,
            e.g. backtraces.

            The increased size means that a new buffer has to be allocated and
            the original static one is unused. It makes sense only on systems
            with more CPUs. Therefore this value is used only when the sum of
            contributions is greater than the half of the default kernel ring
            buffer as defined by LOG_BUF_SHIFT. The default values are set
            so that more than 64 CPUs are needed to trigger the allocation.

            Also this option is ignored when "log_buf_len" kernel parameter is
            used as it forces an exact (power of two) size of the ring buffer.
            The number of possible CPUs is used for this computation ignoring
            hotplugging making the computation optimal for the worst case
            scenario while allowing a simple algorithm to be used from bootup.

            Examples shift values and their meaning:
                       17 => 128 KB for each CPU
                       16 =>  64 KB for each CPU
                       15 =>  32 KB for each CPU
                       14 =>  16 KB for each CPU
                       13 =>   8 KB for each CPU
                       12 =>   4 KB for each CPU

Type:       integer

Choice:     custom (12)

Reason:     I generally prefer to use the lowest available values for
            logs. This will result in a smaller kernel; thus, reducing
            boot time.
```
<h3>(12) Temporary per-CPU printk log buffer size (12 => 4KB, 13 => 8KB)</h3>
```none
Symbol:     CONFIG_PRINTK_SAFE_LOG_BUF_SHIFT

Help:       Select the size of an alternate printk per-CPU buffer where messages
            printed from usafe contexts are temporary stored. One example would
            be NMI messages, another one - printk recursion. The messages are
            copied to the main log buffer in a safe context to avoid a deadlock.
            The value defines the size as a power of 2.

            Those messages are rare and limited. The largest one is when
            a backtrace is printed. It usually fits into 4KB. Select
            8KB if you want to be on the safe side.

            Examples:
                       17 => 128 KB for each CPU
                       16 =>  64 KB for each CPU
                       15 =>  32 KB for each CPU
                       14 =>  16 KB for each CPU
                       13 =>   8 KB for each CPU
                       12 =>   4 KB for each CPU

Type:       integer

Choice:     custom (12)

Reason:     I generally prefer to use the lowest available values for
            logs. This will result in a smaller kernel; thus, reducing
            boot time.
```
<h3>[*] Memory placement aware NUMA scheduler</h3>
```none
Symbol:     CONFIG_NUMA_BALANCING

Help:       This option adds support for automatic NUMA aware memory/task placement.
            The mechanism is quite primitive and is based on migrating memory when
            it has references to the node the task is running on.
            
            This system will be inactive on UMA systems.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm on a 4th gen mobile core i7 4700MQ, and it supports NUMA (1 node);
            therefore, I included numa options in my kernel configuration.

            You can disable this if you're sure that your system doesn't support
            NUMA.
```
<h3>[*]   Automatically enable NUMA aware memory/task placement</h3>
```none
Symbol:     CONFIG_NUMA_BALANCING_DEFAULT_ENABLED

Help:       If set, automatic NUMA balancing will be enabled if running on a NUMA
            machine.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm on a 4th gen mobile core i7 4700MQ, and it supports NUMA (1 node);
            therefore, I included numa options in my kernel configuration.

            You can disable this if you're sure that your system doesn't support
            NUMA.
```
<h3>-*- Control Group support  ---></h3>
```none
Symbol:     CONFIG_CGROUPS

Help:       This option adds support for grouping sets of processes together, for
            use with process control subsystems such as Cpusets, CFS, memory
            controls or device isolation.
            See
                  - Documentation/scheduler/sched-design-CFS.txt   (CFS)
                  - Documentation/cgroup-v1/ (features for grouping, isolation
                                            and resource control)

            Say N if unsure.

Type:       boolean

Choice:     built-in -*-

Reason:     This option is forcibly included by CONFIG_GENTOO_LINUX,
            CONFIG_GENTOO_LINUX_UDEV, CONFIG_GENTOO_LINUX_INIT_SYSTEMD
            and CONFIG_GENTOO_LINUX_PORTAGE.

            It's advised to include this when using systemd.
            
            Unfortunately, it's a hassle to remove this feature on 
            gentoo-sources, so if you can exclude it go ahead!

            If it was forcibly included in your configuration as well
            make sure that CONFIG_SCHED_AUTOGROUP is excluded. If it 
            was still included, then exclude all the controllers inside
            it and put up with it.
```
<h3>[ ] Checkpoint/restore support</h3>
```none
Symbol:     CONFIG_CHECKPOINT_RESTORE

Help:       Enables additional kernel features in a sake of checkpoint/restore.
            In particular it adds auxiliary prctl codes to setup process text,
            data and heap segment sizes, and a few additional /proc filesystem
            entries.

            If unsure, say N here.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded checkpoint/restore support on my system as I don't
            need it. If you want to be able to suspend/hibernate your system
            then include this option.
```
<h3>-*- Namespaces support  ---></h3>
```none
Symbol:     CONFIG_NAMESPACES

Help:       Provides the way to make tasks work with different objects using
            the same id. For example same IPC id may refer to different objects
            or same user id or pid may refer to different tasks when used in
            different namespaces.

Type:       boolean

Choice:     built-in -*-

Reason:     This option is forcibly included on my system by CONFIG_GENTOO_LINUX
            and CONFIG_GENTOO_LINUX_PORTAGE.

            It's generally a good idea to include this option as several applications
            and features rely on it.
```
<h3>[*]   UTS namespace</h3>
```none
Symbol:     CONFIG_UTS_NS

Help:       In this namespace tasks see different info provided with the
            uname() system call

Type:       boolean

Choice:     built-in [*]

Reason:     If you were using uname() system call to display info in your lightweight
            status bar, or for normal use then include this feature.
```
<h3>-*-   IPC namespace</h3>
```none
Symbol:     CONFIG_IPC_NS

Help:       In this namespace tasks work with IPC ids which correspond to
            different IPC objects in different namespaces.

Type:       boolean

Choice:     built-in -*-

Reason:     Forcibly included by CONFIG_GENTOO_LINUX and CONFIG_GENTOO_LINUX_PORTAGE.
```
<h3>[ ]   PID Namespaces</h3>
```none
Symbol:     CONFIG_PID_NS

Help:       Support process id namespaces.  This allows having multiple
            processes with the same pid as long as they are in different
            pid namespaces.  This is a building block of containers.

Type:       boolean

Choice:     excluded [ ]

Reason:     I chose to exclude this option in my kernel configuration. If you think
            I shouldn't be doing that please post a comment below or send me an email
            explaining why.
```
<h3> </h3>
```none
```
