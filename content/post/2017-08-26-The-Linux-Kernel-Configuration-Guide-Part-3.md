+++
title = "The Linux Kernel Configuration Guide Part 3"
slug = "the linux kernel configuration guide part 3"
nick = "kernel3"
date = "2017-08-26"
author = "Firas Khalil Khana"
imgsrc = "/img/kernel3.png"
imgalt = "kernel3"
categories = [ "kernel" ]
+++
Before starting with the <mark>General setup</mark> section, there's this important option just before it:
<h3>[&ast;] 64-bit kernel</h3>
```none
Symbol:     CONFIG_64BIT

Help:       Say yes to build a 64-bit kernel - formerly known as x86_64
            Say no to build a 32-bit kernel - formerly known as i386

Type:       boolean

Choice:     built-in [*]
```
<hr/>
<h3>1- General setup</h3>
<h3>() Cross-compiler tool prefix</h3>
```none
Symbol:     CONFIG_CROSS_COMPILE

Help:       Same as running 'make CROSS_COMPILE=prefix-' but stored for
            default make runs in this kernel build directory.  You don't
            need to set this unless you want the configured kernel build
            directory to select the cross-compiler automatically.

Type:       string

Choice:     excluded ()

Reason:     Include this option if you're building the kernel for another 
            machine (an ARM device perhaps).

            You can safely exclude this option.
```
<h3>[ ] Compile also drivers which will not load</h3>
```none
Symbol:     CONFIG_COMPILE_TEST

Help:       Some drivers can be compiled on a different platform than they are
            intended to be run on. Despite they cannot be loaded there (or even
            when they load they cannot be used due to missing HW support),
            developers still, opposing to distributors, might want to build such
            drivers to compile-test them.
            
            If you are a developer and want to build everything available, say Y
            here. If you are a user/distributor, say N here to exclude useless
            drivers to be distributed.

Type:       boolean

Choice:     excluded [ ]

Reason:     This option is generally for developers who want to build drivers
            for different architectures in their kernel.

            You can safely exclude this option.
```
<h3>(-DOTSLASHLINUX) Local version - append to kernel release</h3>
```none
Symbol:     CONFIG_LOCALVERSION

Help:       Append an extra string to the end of your kernel version.
            This will show up when you type uname, for example.
            The string you set here will be appended after the contents of
            any files with a filename matching localversion* in your
            object and source tree, in that order.  Your total string can
            be a maximum of 64 characters.

Type:       string

Choice:     -DOTSLASHLINUX

Reason:     In order not to lose track of the custom built kernels you can append
            extra strings to the end of the kernel's version.
            
            You can also leave this empty if you want.
```
<h3>[ ] Automatically append version information to the version string</h3>
```none
Symbol:     CONFIG_LOCALVERSION_AUTO

Help:       This will try to automatically determine if the current tree is a
            release tree by looking for git tags that belong to the current
            top of tree revision.
            
            A string of the format -gxxxxxxxx will be added to the localversion
            if a git-based tree is found.  The string generated by this will be
            appended after any matching localversion* files, and after the value
            set in CONFIG_LOCALVERSION.

            (The actual string used here is the first eight characters produced
            by running the command:

              $ git rev-parse --verify HEAD

            which is done within the script "scripts/setlocalversion".)

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option as CONFIG_LOCALVERSION should be
            sufficient.
```
<h3>Kernel compression mode (LZ4)  ---></h3>
Make sure you have <mark>app-arch/lz4</mark> installed before compiling your kernel.
```none
Symbol:     CONFIG_KERNEL_LZ4

Help:       LZ4 is an LZ77-type compressor with a fixed, byte-oriented encoding.
            A preliminary version of LZ4 de/compression tool is available at
            <https://code.google.com/p/lz4>.
            
            Its compression ratio is worse than LZO. The size of the kernel
            is about 8% bigger than LZO. But the decompression speed is
            faster than LZO.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm basically against compressing your kernel on setups that 
            use fast storage solutions, but since I'm on a slow 5400rpm HDD
            I had to go with LZ4 compression method as its decompression
            speed is the fastest, and decompression speed is what matters when 
            measuring boot times.

            In some case using an uncompressed kernel slowed boot time down 
            by 300-500ms, so I had to go with LZ4. If your storage is extremely
            fast then I suggest you use an uncompressed kernel (you can find 
            several patches online for building an uncompressed kernel, I'll be 
            talking about applying patches to the kernel once I'm done with this 
            series, until then you can experiment on your own =D).

            Eexclude every other compression method. If you want your built 
            kernel to have the smallest size possible then use the XZ compression
            method. Just make sure that you have the proper tools for compression
            to prevent errors from popping up.
```
<h3>(DOTSLASHLINUX) Default hostname</h3>
```none
Symbol:     CONFIG_DEFAULT_HOSTNAME

Help:       This option determines the default system hostname before userspace
            calls sethostname(2). The kernel traditionally uses "(none)" here,
            but you may wish to use a different default here to make a minimal
            system more usable with less configuration.

Type:       string

Choice:     DOTSLASHLINUX

Reason:     It's recommended if your system's default hostname was set here (rather than
            relying on the hostname boot service) if you're building this kernel for your
            current system.

            You know what they say the less services you have at boot time, the faster your
            system boots.
```
<h3>[&ast;] Support for paging of anonymous memory (swap)</h3>
```none
Symbol:     CONFIG_SWAP

Help:       This option allows you to choose whether you want to have support
            for so called swap devices or swap files in your kernel that are
            used to provide more virtual memory than the actual RAM present
            in your computer.  If unsure say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     It's highly recommended that you include this option in your kernel
            as swap is a must have feature on all systems.

            My system has 7.7 GiB of ram and idles at ~60MiB of ram on dwm so
            basically why use swap? It was until recently that I was forced to
            add swap space after running swapless builds for 2 years now.

            I had 9 jobs running, and was trying to build chromium from source, 
            while browsing the web on my seamonkey web browser. Suddenly my system 
            lagged horribly (I had my customization set to maximum throughput) and
            chromium stopped at about 60% saying it ran out of memory (virtual memory). 
            So yeah I had to reinstall gentoo to get my swap space up and running.

            After I learned my lesson the hard way, I'm now convinced that you have to
            have a swap partition on your system. 

            I went with 15.4 GiB of swap space since I tend to open lots of apps when
            compiling (thanks to my highly responsive/minimal latency build I barely
            notice that my system is running 9 jobs building something).
```
<h3>-&ast;- System V IPC</h3>
```none
Symbol:     CONFIG_SYSVIPC

Help:       Inter Process Communication is a suite of library functions and
            system calls which let processes (running programs) synchronize and
            exchange information. It is generally considered to be a good thing,
            and some programs won't run unless you say Y here. In particular, if
            you want to run the DOS emulator dosemu under Linux (read the
            DOSEMU-HOWTO, available from <http://www.tldp.org/docs.html#howto>),
            you'll need to say Y here
            
            You can find documentation about IPC with "info ipc" and also in
            section 6.4 of the Linux Programmer's Guide, available from
            <http://www.tldp.org/guides.html>.

Type:       boolean

Choice:     built-in -*-

Reason:     It's highly recommended that you include this option in your kernel
            (that is if it isn't already forcibly included by CONFIG_GENTOO_LINUX
            and CONFIG_GENTOO_LINUX_PORTAGE).
```
<h3>[ ] POSIX Message Queues</h3>
```none
Symbol:     CONFIG_POSIX_MQUEUE

Help:       POSIX variant of message queues is a part of IPC. In POSIX message
            queues every message has a priority which decides about succession
            of receiving it by a process. If you want to compile and run
            programs written e.g. for Solaris with use of its POSIX message
            queues (functions mq_*) say Y here.
            
            POSIX message queues are visible as a filesystem called 'mqueue'
            and can be mounted somewhere if you want to do filesystem
            operations on message queues
            
            If unsure, say Y.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option if you won't be compiling and 
            running programs written for Solaris that make use of its POSIX 
            queues.
```
<h3>[ ] Enable process_vm_readv/writev syscalls</h3>
```none
Symbol:     CONFIG_CROSS_MEMORY_ATTACH

Help:       Enabling this option adds the system calls process_vm_readv and
            process_vm_writev which allow a process with the correct privileges 
            to directly read from or write to another process' address space.
            See the man page for more details.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option if you're sure that no application
            uses these system calls.
```
<h3>[&ast;] open by fhandle syscalls</h3>
```none
Symbol:     CONFIG_FHANDLE

Help:       If you say Y here, a user level program will be able to map
            file names to handle and then later use the handle for
            different file system operations. This is useful in implementing
            userspace file servers, which now track files using handles instead
            of names. The handle would remain the same even if file names
            get renamed. Enables open_by_handle_at(2) and name_to_handle_at(2)
            syscalls.

Type:       boolean

Choice:     built-in [*]

Reason:     It's highly recommended that you include this option in your kernel
            (that is if it isn't already forcibly included by CONFIG_GENTOO_LINUX,
            CONFIG_GENTOO_LINUX_UDEV and CONFIG_GENTOO_LINUX_INIT_SYSTEMD).

            It's one of those options that causes headaches when excluded, as you'll
            probably overlook it when trying to determine the real cause behind your
            boot failure.
```
<h3>[ ] uselib syscall</h3>
```none
Symbol:     CONFIG_USELIB

Help:       This option enables the uselib syscall, a system call used in the
            dynamic linker from libc5 and earlier.  glibc does not use this
            system call.  If you intend to run programs built on libc5 or
            earlier, you may need to enable this syscall.  Current systems
            running glibc can safely disable this.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option if you're on a modern system running
            a modern version of glibc.
```
<h3>[ ] Auditing support</h3>
```none
Symbol:     CONFIG_AUDIT

Help:       Enable auditing infrastructure that can be used with another
            kernel subsystem, such as SELinux (which requires this for
            logging of avc messages output).  System call auditing is included
            on architectures which support it.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option if you don't plan to use SELinux
            and/or other security measures.
```
<h3>IRQ subsystem   ---></h3>
<h3>[ ] Expose hardware/virtual IRQ mapping via debugfs</h3>
```none
Symbol:     CONFIG_IRQ_DOMAIN_DEBUG

Help:       This option will show the mapping relationship between hardware irq
            numbers and Linux irq numbers. The mapping is exposed via debugfs
            in the file "irq_domain_mapping".
            
            If you don't know what this means you don't need it.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option as it's intended for debugging
            purposes.
```
<h3>[ ] Expose irq internals in debugfs</h3>
```none
Symbol:     CONFIG_GENERIC_IRQ_DEBUGFS

Help:       Exposes internal state information through debugfs. Mostly for
            developers and debugging of hard to diagnose interrupt problems.

            If you don't know what to do here, say N.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option as it's intended for developing
            and debugging purposes.
```
<h3>Timers subsystem  ---></h3>
<h3>Timer tick handling (Periodic timer ticks (constant rate, no dynticks))  ---></h3>
<h3>(X) Periodic timer ticks (constant rate, no dynticks)</h3>
```none
Symbol:     CONFIG_HZ_PERIODIC

Help:       This option keeps the tick running periodically at a constant
            rate, even when the CPU doesn't need it.

Type:       boolean

Choice:     built-in (X)

Reason:     It's highly recommended that you include this option in your kernel
            as it adds a sligh performance boost while lowering latency.

            Exclude this option if power saving is one of your concerns.
```
<h3>[ ] Old Idle dynticks config</h3>
```none
Symbol:     CONFIG_NO_HZ

Help:       This is the old config entry that enables dynticks idle.
            We keep it around for a little while to enforce backward
            compatibility with older config files.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option if you've already included
            CONFIG_HZ_PERIODIC.
```
<h3>[ ] High Resolution Timer Support</h3>
```none
Symbol:     CONFIG_HIGH_RES_TIMERS

Help:       This option enables high resolution timer support. If your
            hardware is not capable then this option only increases
            the size of the kernel image.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option if you're sure that no
            application requires it.

            Include this option if power saving is one of your concerns.
```
<h3>CPU/Task time and stats accounting  ---></h3>
<h3>Cputime accounting (Simple tick based cputime accounting)  ---></h3>
```none
Symbol:     CONFIG_TICK_CPU_ACCOUNTING

Help:       This is the basic tick based cputime accounting that maintains
            statistics about user, system and idle time spent on per jiffies
            granularity.
            
            If unsure, say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     It's recommended that you include this option as
            CONFIG_VIRT_CPU_ACCOUNTING_GEN is only useful at the moment
            for those who are working on the full dynticks subsystem development.
```
<h3>[ ] Fine granularity task level IRQ time accounting</h3>
```none
Symbol:     CONFIG_IRQ_TIME_ACCOUNTING

Help:       Select this option to enable fine granularity task irq time
            accounting. This is done by reading a timestamp on each
            transitions between softirq and hardirq state, so there can be a
            small performance impact.

            If in doubt, say N here.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option as it impacts performance.
```
<h3>[ ] BSD Process Accounting</h3>
```none
Symbol:     CONFIG_BSD_PROCESS_ACCT

Help:       If you say Y here, a user level program will be able to instruct the
            kernel (via a special system call) to write process accounting
            information to a file: whenever a process exits, information about
            that process will be appended to the file by the kernel.  The
            information includes things such as creation time, owning user,
            command name, memory usage, controlling terminal etc. (the complete
            list is in the struct acct in <file:include/linux/acct.h>).  It is
            up to the user level program to do useful things with this
            information.  This is generally a good idea, so say Y.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option to lower system overhead.

            sys-process/htop might complain, but it's totally harmless.
```
<h3>[ ] Export task/process statistics through netlink</h3>
```none
Symbol:     CONFIG_TASKSTATS

Help:       Export selected statistics for tasks/processes through the
            generic netlink interface. Unlike BSD process accounting, the
            statistics are available during the lifetime of tasks/processes as
            responses to commands. Like BSD accounting, they are sent to user
            space on task exit.
            
            Say N if unsure.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option to lower system overhead.

            sys-process/htop might complain, but it's totally harmless.
```
<h3>RCU Subsystem  ---></h3>
<h3>[&ast;] Make expert-level adjustments to RCU configuration</h3>
```none
Symbol:     CONFIG_RCU_EXPERT

Help:       This option needs to be enabled if you wish to make
            expert-level adjustments to RCU configuration.  By default,
            no such adjustments can be made, which has the often-beneficial
            side-effect of preventing "make oldconfig" from asking you all
            sorts of detailed questions about how you would like numerous
            obscure RCU options to be set up.
            
            Say Y if you need to make expert-level adjustments to RCU.
            
            Say N if you are unsure.

Type:       boolean

Choice:     built-in [*]

Reason:     There are some nice options here to reduce latency so I'll include this
            option. You can exclude this option and its child options as well and settle
            with the default value if throughput (performance) is what you need.
```
<h3>[ ] Use v4.11 classic SRCU implementation</h3>
```none
Symbol:     CONFIG_CLASSIC_SRCU

Help:       This option selects the traditional well-tested classic SRCU
            implementation from v4.11, as might be desired for enterprise
            Linux distributions.  Without this option, the shiny new
            Tiny SRCU and Tree SRCU implementations are used instead.
            At some point, it is hoped that Tiny SRCU and Tree SRCU
            will accumulate enough test time and confidence to allow
            Classic SRCU to be dropped entirely.
            
            Say Y if you need a rock-solid SRCU.
            
            Say N if you would like help test Tree SRCU.

Tyoe:       boolean

Choice:     excluded [ ]

Reason:     I want to use the shiny new Tiny SRCU and Tree SRCU implementations
            (because they sound cool, just kidding =D). Basically any feature
            that'll be dropped, deprecated or obsolete in the future should be 
            excluded, at least that's how I like to configure my kernel.

            You can include this option if you want a rock-solid stable SRCU.
```
<h3>(64) Tree-based hierarchical RCU fanout value</h3>
```none
Symbol:     CONFIG_RCU_FANOUT

Help:       This option controls the fanout of hierarchical implementations
            of RCU, allowing RCU to work efficiently on machines with
            large numbers of CPUs.  This value must be at least the fourth
            root of NR_CPUS, which allows NR_CPUS to be insanely large.
            The default value of RCU_FANOUT should be used for production
            systems, but if you are stress-testing the RCU implementation
            itself, small RCU_FANOUT values allow you to test large-system
            code paths on small(er) systems.
            
            Select a specific number if testing RCU itself.
            
            Take the default if unsure.

Tyoe:       integer

Choice:     (64) default

Reason:     I went with the default value which is 64 on my system as I'm not
            testing RCU.
```
<h3>(16) Tree-based hierarchical RCU leaf-level fanout value</h3>
```none
Symbol:     CONFIG_RCU_FANOUT_LEAF

Help:       This option controls the leaf-level fanout of hierarchical
            implementations of RCU, and allows trading off cache misses
            against lock contention.  Systems that synchronize their
            scheduling-clock interrupts for energy-efficiency reasons will
            want the default because the smaller leaf-level fanout keeps
            lock contention levels acceptably low.  Very large systems
            (hundreds or thousands of CPUs) will instead want to set this
            value to the maximum value possible in order to reduce the
            number of cache misses incurred during RCU's grace-period
            initialization.  These systems tend to run CPU-bound, and thus
            are not helped by synchronized interrupts, and thus tend to
            skew them, which reduces lock contention enough that large
            leaf-level fanouts work well.  That said, setting leaf-level
            fanout to a large number will likely cause problematic
            lock contention on the leaf-level rcu_node structures unless
            you boot with the skew_tick kernel parameter.
            
            Select a specific number if testing RCU itself.
            
            Select the maximum permissible value for large systems, but
            please understand that you may also need to set the skew_tick
            kernel boot parameter to avoid contention on the rcu_node
            structure's locks.
            
            Take the default if unsure.

Type:       integer

Choice:     (16) default

Reason:     I went with the default value which is 16 on my system as I'm not
            testing RCU.
```
<h3>[&ast;] Enable RCU priority boosting</h3>
```none
Symbol:     CONFIG_RCU_BOOST

Help:       This option boosts the priority of preempted RCU readers that
            block the current preemptible RCU grace period for too long.
            This option also prevents heavy loads from blocking RCU
            callback invocation for all flavors of RCU.
            
            Say Y here if you are working with real-time apps or heavy loads
            Say N here if you are unsure.

Type:       boolean

Choice:     built-in [*]

Reason:     Including this option helps reduce latency especially on systems with
            heavy loads.
```
<h3>(1) Real-time priority to use for RCU worker threads</h3>
```none
Symbol:     CONFIG_RCU_KTHREAD_PRIO

Help:       This option specifies the SCHED_FIFO priority value that will be
            assigned to the rcuc/n and rcub/n threads and is also the value
            used for RCU_BOOST (if enabled). If you are working with a
            real-time application that has one or more CPU-bound threads
            running at a real-time priority level, you should set
            RCU_KTHREAD_PRIO to a priority higher than the highest-priority
            real-time CPU-bound application thread.  The default RCU_KTHREAD_PRIO
            value of 1 is appropriate in the common case, which is real-time
            applications that do not have any CPU-bound threads.

            Some real-time applications might not have a single real-time
            thread that saturates a given CPU, but instead might have
            multiple real-time threads that, taken together, fully utilize
            that CPU.  In this case, you should set RCU_KTHREAD_PRIO to
            a priority higher than the lowest-priority thread that is
            conspiring to prevent the CPU from running any non-real-time
            tasks.  For example, if one thread at priority 10 and another
            thread at priority 5 are between themselves fully consuming
            the CPU time on a given CPU, then RCU_KTHREAD_PRIO should be
            set to priority 6 or higher.
            
            Specify the real-time priority, or take the default if unsure.

Type:       boolean

Choice:     (1) default

Reason:     I went with the default value for this option.
```
<h3>(0) Milliseconds to delay boosting after RCU grace-period start</h3>
```none
Symbol:     CONFIG_RCU_BOOST_DELAY

Help:       This option specifies the time to wait after the beginning of
            a given grace period before priority-boosting preempted RCU
            readers blocking that grace period.  Note that any RCU reader
            blocking an expedited RCU grace period is boosted immediately.
            
            Accept the default if unsure.

Type:       integer

Choice:     (0) custom

Reason:     The default value was 500, but I prefer to make to use the lowest
            value for all delay options.

            If you think I shouldn't be doing this please post a comment below
            or send me an email explaining why.
```
<h3>[&ast;] Offload RCU callback processing from boot-selected CPUs</h3>
```none
Symbol:     CONFIG_RCU_NOCB_CPU

Help:       Use this option to reduce OS jitter for aggressive HPC or
            real-time workloads.   It can also be used to offload RCU
            callback invocation to energy-efficient CPUs in battery-powered
            asymmetric multiprocessors.

            This option offloads callback invocation from the set of
            CPUs specified at boot time by the rcu_nocbs parameter.
            For each such CPU, a kthread ("rcuox/N") will be created to
            invoke callbacks, where the "N" is the CPU being offloaded,
            and where the "x" is "b" for RCU-bh, "p" for RCU-preempt, and
            "s" for RCU-sched.  Nothing prevents this kthread from running
            on the specified CPUs, but (1) the kthreads may be preempted
            between each callback, and (2) affinity or cgroups can be used
            to force the kthreads to run on whatever set of CPUs is desired.

            Say Y here if you want to help to debug reduced OS jitter.
            Say N here if you are unsure.
Type:       boolean

Choice:     built-in [*]

Reason:     This is also an option that helps reduce latency.
```
<h3>Build-forced no-CBs CPUs (All CPUs are build_forced no-CBs CPUs)  ---></h3>
```none
Symbol:     CONFIG_RCU_NOCB_CPU_ALL

Help:       This option forces all CPUs to be no-CBs CPUs.  The rcu_nocbs=
            boot parameter will be ignored.  All CPUs' RCU callbacks will
            be executed in the context of per-CPU rcuo kthreads created for
            this purpose.  Assuming that the kthreads whose names start with
            "rcuo" are bound to "housekeeping" CPUs, this reduces OS jitter
            on the remaining CPUs, but might decrease memory locality during
            RCU-callback invocation, thus potentially degrading throughput.
            
            Select this if all CPUs need to be no-CBs CPUs for real-time
            or energy-efficiency reasons. 

Type:       boolean

Choice:     built-in [*]

Reason:     The other options are intended for testing purposes.
```
<h3>< > Kernel .config support</h3>
```none
Symbol:     CONFIG_IKCONFIG

Help:       This option enables the complete Linux kernel ".config" file 
            contents to be saved in the kernel. It provides documentation
            of which kernel options are used in a running kernel or in an
            on-disk kernel.  This information can be extracted from the kernel
            image file with the script scripts/extract-ikconfig and used as
            input to rebuild the current kernel or to build another kernel.
            It can also be extracted from a running kernel by reading
            /proc/config.gz if enabled (below).

Type:       tristate

Choice:     excluded < >

Reason:     I already know my kernel configuration options and have no need to read
            them from /proc/config.gz.
```
<h3>(14) Kernel log buffer size (16 => 64KB, 17 => 128KB)</h3>
```none
Symbol:     CONFIG_LOG_BUF_SHIFT

Help:       Select the minimal kernel log buffer size as a power of 2.
            The final size is affected by LOG_CPU_MAX_BUF_SHIFT config
            parameter, see below. Any higher size also might be forced
            by "log_buf_len" boot parameter.
            
            Examples:
                       17 => 128 KB
                       16 => 64 KB
                       15 => 32 KB
                       14 => 16 KB
                       13 =>  8 KB
                       12 =>  4 KB

Type:       integer

Choice:     (14) custom

Reason:     I generally prefer to use the lowest available value for
            logs. This will result in a smaller kernel; thus, reducing
            boot time.

            14 is a good value, any value less than that and the kernel
            ring buffer would start to fill really fast (so fast you won't
            be able to read the whole dmesg log after a clean reboot!)
```
<h3>(14) CPU kernel log buffer size contribution (13 => 8 KB, 17 => 128KB)</h3>
```none
Symbol:     CONFIG_LOG_CPU_MAX_BUF_SHIFT

Help:       This option allows to increase the default ring buffer size
            according to the number of CPUs. The value defines the contribution
            of each CPU as a power of 2. The used space is typically only few
            lines however it might be much more when problems are reported,
            e.g. backtraces.

            The increased size means that a new buffer has to be allocated and
            the original static one is unused. It makes sense only on systems
            with more CPUs. Therefore this value is used only when the sum of
            contributions is greater than the half of the default kernel ring
            buffer as defined by LOG_BUF_SHIFT. The default values are set
            so that more than 64 CPUs are needed to trigger the allocation.

            Also this option is ignored when "log_buf_len" kernel parameter is
            used as it forces an exact (power of two) size of the ring buffer.
            The number of possible CPUs is used for this computation ignoring
            hotplugging making the computation optimal for the worst case
            scenario while allowing a simple algorithm to be used from bootup.

            Examples shift values and their meaning:
                       17 => 128 KB for each CPU
                       16 =>  64 KB for each CPU
                       15 =>  32 KB for each CPU
                       14 =>  16 KB for each CPU
                       13 =>   8 KB for each CPU
                       12 =>   4 KB for each CPU

Type:       integer

Choice:     (14) custom

Reason:     I generally prefer to use the lowest available values for
            logs. This will result in a smaller kernel; thus, reducing
            boot time.
            
            14 is a good value, any value less than that and the kernel
            ring buffer would start to fill really fast (so fast you won't
            be able to read the whole dmesg log after a clean reboot!)
```
<h3>(12) Temporary per-CPU printk log buffer size (12 => 4KB, 13 => 8KB)</h3>
```none
Symbol:     CONFIG_PRINTK_SAFE_LOG_BUF_SHIFT

Help:       Select the size of an alternate printk per-CPU buffer where messages
            printed from usafe contexts are temporary stored. One example would
            be NMI messages, another one - printk recursion. The messages are
            copied to the main log buffer in a safe context to avoid a deadlock.
            The value defines the size as a power of 2.

            Those messages are rare and limited. The largest one is when
            a backtrace is printed. It usually fits into 4KB. Select
            8KB if you want to be on the safe side.

            Examples:
                       17 => 128 KB for each CPU
                       16 =>  64 KB for each CPU
                       15 =>  32 KB for each CPU
                       14 =>  16 KB for each CPU
                       13 =>   8 KB for each CPU
                       12 =>   4 KB for each CPU

Type:       integer

Choice:     (12) custom

Reason:     I generally prefer to use the lowest available values for
            logs. This will result in a smaller kernel; thus, reducing
            boot time.
```
<h3>[&ast;] Memory placement aware NUMA scheduler</h3>
```none
Symbol:     CONFIG_NUMA_BALANCING

Help:       This option adds support for automatic NUMA aware memory/task placement.
            The mechanism is quite primitive and is based on migrating memory when
            it has references to the node the task is running on.
            
            This system will be inactive on UMA systems.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm on a 4th gen mobile core i7 4700MQ, and it supports NUMA (1 node);
            therefore, I included numa options in my kernel configuration.

            You can disable this if you're sure that your system doesn't support
            NUMA.
```
<h3>[&ast;]   Automatically enable NUMA aware memory/task placement</h3>
```none
Symbol:     CONFIG_NUMA_BALANCING_DEFAULT_ENABLED

Help:       If set, automatic NUMA balancing will be enabled if running on a NUMA
            machine.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm on a 4th gen mobile core i7 4700MQ, and it supports NUMA (1 node);
            therefore, I included numa options in my kernel configuration.

            You can disable this if you're sure that your system doesn't support
            NUMA.
```
<h3>-&ast;- Control Group support  ---></h3>
```none
Symbol:     CONFIG_CGROUPS

Help:       This option adds support for grouping sets of processes together, for
            use with process control subsystems such as Cpusets, CFS, memory
            controls or device isolation.
            See
                  - Documentation/scheduler/sched-design-CFS.txt   (CFS)
                  - Documentation/cgroup-v1/ (features for grouping, isolation
                                            and resource control)

            Say N if unsure.

Type:       boolean

Choice:     built-in -*-

Reason:     This option is forcibly included by CONFIG_GENTOO_LINUX,
            CONFIG_GENTOO_LINUX_UDEV, CONFIG_GENTOO_LINUX_INIT_SYSTEMD
            and CONFIG_GENTOO_LINUX_PORTAGE.

            It's advised to include this when using systemd.
            
            Unfortunately, it's a hassle to remove this feature on 
            gentoo-sources, so if you can exclude it go ahead!

            If it was forcibly included in your configuration as well
            make sure that CONFIG_SCHED_AUTOGROUP is excluded. If it 
            was still included, then exclude all the controllers inside
            it and put up with it.
```
<h3>[ ] Checkpoint/restore support</h3>
```none
Symbol:     CONFIG_CHECKPOINT_RESTORE

Help:       Enables additional kernel features in a sake of checkpoint/restore.
            In particular it adds auxiliary prctl codes to setup process text,
            data and heap segment sizes, and a few additional /proc filesystem
            entries.

            If unsure, say N here.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded checkpoint/restore support on my system as I don't
            need it. If you want to be able to suspend/hibernate your system
            then include this option.
```
<h3>-&ast;- Namespaces support  ---></h3>
```none
Symbol:     CONFIG_NAMESPACES

Help:       Provides the way to make tasks work with different objects using
            the same id. For example same IPC id may refer to different objects
            or same user id or pid may refer to different tasks when used in
            different namespaces.

Type:       boolean

Choice:     built-in -*-

Reason:     This option is forcibly included on my system by CONFIG_GENTOO_LINUX
            and CONFIG_GENTOO_LINUX_PORTAGE.

            It's generally a good idea to include this option as several applications
            and features rely on it.
```
<h3>[&ast;]   UTS namespace</h3>
```none
Symbol:     CONFIG_UTS_NS

Help:       In this namespace tasks see different info provided with the
            uname() system call

Type:       boolean

Choice:     built-in [*]

Reason:     If you were using uname() system call to display info in your lightweight
            status bar, or for normal use then include this feature.
```
<h3>-&ast;-   IPC namespace</h3>
```none
Symbol:     CONFIG_IPC_NS

Help:       In this namespace tasks work with IPC ids which correspond to
            different IPC objects in different namespaces.

Type:       boolean

Choice:     built-in -*-

Reason:     Forcibly included by CONFIG_GENTOO_LINUX and CONFIG_GENTOO_LINUX_PORTAGE.
```
<h3>[ ]   PID Namespaces</h3>
```none
Symbol:     CONFIG_PID_NS

Help:       Support process id namespaces.  This allows having multiple
            processes with the same pid as long as they are in different
            pid namespaces.  This is a building block of containers.

Type:       boolean

Choice:     excluded [ ]

Reason:     I chose to exclude this option in my kernel configuration. If you think
            I shouldn't be doing that please post a comment below or send me an email
            explaining why.
```
<h3>-&ast;-   Network namespace</h3>
```none
Symbol:     CONFIG_NET_NS

Help:       Allow user space to create what appear to be multiple instances
            of the network stack.

Type:       boolean

Choice:     built-in -*-

Reason:     Forcibly included by CONFIG_GENTOO_LINUX, CONFIG_GENTOO_LINUX_UDEV and
            CONFIG_GENTOO_LINUX_PORTAGE.
```
<h3>[ ] Automatic process group scheduling</h3>
```none
Symbol:     CONFIG_SCHED_AUTOGROUP

Help:       This option optimizes the scheduler for common desktop workloads by
            automatically creating and populating task groups.  This separation
            of workloads isolates aggressive CPU burners (like build jobs) from
            desktop applications.  Task group autogeneration is currently based
            upon task session.

Type:       boolean

Choice:     excluded [ ]

Reason:     If you can exclude both this option and CONFIG_CGROUPS then you should
            be grateful...
```
<h3>[ ] Enable deprecated sysfs features to support old userspace tools</h3>
```none
Symbol:     CONFIG_SYSFS_DEPRECATED

Help:       This option adds code that switches the layout of the "block" class
            devices, to not show up in /sys/class/block/, but only in
            /sys/block/.

            This switch is only active when the sysfs.deprecated=1 boot option is
            passed or the SYSFS_DEPRECATED_V2 option is set.

            This option allows new kernels to run on old distributions and tools,
            which might get confused by /sys/class/block/. Since 2007/2008 all
            major distributions and tools handle this just fine.

            Recent distributions and userspace tools after 2009/2010 depend on
            the existence of /sys/class/block/, and will not work with this
            option enabled.

            Only if you are using a new kernel on an old distribution, you might
            need to say Y here.

Type:       boolean

Choice:     excluded [ ]

Reason:     I'm running a rolling release distribution and using a new kernel, so
            I excluded this option.

            (This isn't the case for every deprecated option out there, I remember once
            spending the whole day trying to debug my boot failure, to find out I needed
            to include a deprecated option, just saying).
```
<h3>-&ast;- Kernel->user space relay support (formerly relayfs)</h3>
```none
Symbol:     CONFIG_RELAY

Help:       This option enables support for relay interface support in
            certain file systems (such as debugfs).
            It is designed to provide an efficient mechanism for tools and
            facilities to relay large amounts of data from kernel space to
            user space.
            
            If unsure, say N.

Type:       boolean

Choice:     built-in -*-

Reason:     Forcibly selected by a ton of other important options (CONFIG_WLAN,
            CONFIG_ATH9K, CONFIG_PCI, CONFIG_DRM_I915 and many many more...)
```
<h3>[ ] Initial RAM filesystem and RAM disk (initramfs/initrd) support</h3>
Kindly check this: <a href="https://www.dotslashlinux.com/2017/04/29/booting-the-linux-kernel-without-an-initrd-initramfs/" target="_blank">Booting the Linux Kernel Without an initrd/initramfs</a>
<br/>
<br/>
and this: <a href="https://www.dotslashlinux.com/2017/04/30/building-intel-cpu-microcode-updates-directly-into-the-linux-kernel/" target="_blank">Building Intel CPU Microcode Updates Directly into the Linux Kernel</a>
```none
Symbol:     CONFIG_BLK_DEV_INITRD

Help:       The initial RAM filesystem is a ramfs which is loaded by the
            boot loader (loadlin or lilo) and that is mounted as root
            before the normal boot procedure. It is typically used to
            load modules needed to mount the "real" root file system,
            etc. See <file:Documentation/admin-guide/initrd.rst> for details.

            If RAM disk support (BLK_DEV_RAM) is also included, this
            also enables initial RAM disk (initrd) support and adds
            15 Kbytes (more on some other architectures) to the kernel size.

            If unsure say Y.

Type:       boolean

Choice:     excluded [ ]

Reason:     I don't use an initrd/initramfs. I've already posted guides on 
            DOTSLASHLINUX on how to boot the linux kernel without using an 
            initrd/initramfs and how to build microcode update files directly 
            into the linux kernel without using an initrd/initramfs.
```
<h3>Compiler optimization level (Optimize for performance)  ---></h3>
```none
Symbol:     CONFIG_CC_OPTIMIZE_FOR_PERFORMANCE

Help:       This is the default optimization level for the kernel, building
            with the "-O2" compiler flag for best performance and most
            helpful compile-time warnings.

Type:       boolean

Choice:     (Optimize for performance)

Reason:     Both slow and fast storage systems should choose optimize for performance
            unless limited by storage space. 

            Optimize for size won't make much difference when using LZ4 neither
            on slow storage systems (like me), and on fast SSDs (negligible).
```
<h3>[&ast;] Configure standard kernel features (expert users)  ---></h3>
```none
Symbol:     CONFIG_EXPERT

Help:       This option allows certain base kernel options and settings
            to be disabled or tweaked. This is for specialized
            environments which can tolerate a "non-standard" kernel.
            Only use this if you really know what you are doing.

Type:       boolean

Choice:     built-in [*]

Reason:     I'll be excluding some options. Some are obsolete and some
            aren't needed by my system.
```
<h3>[ ]   Enable 16-bit UID system calls</h3>
```none
Symbol:     CONFIG_UID16

Help:       This option allows certain base kernel options and settings
            to be disabled or tweaked. This is for specialized
            environments which can tolerate a "non-standard" kernel.
            Only use this if you really know what you are doing.

Type:       boolean

Choice:     excluded [ ]

Reason:     Let's see, 12 years ago this was also being used for backwards
            compabtibility for apis using old system calls (wow this really
            is old).

            I excluded it because I noticed no harm being done to my system.

            Only exclude if no harm is being done to your system. 
```
<h3>[&ast;]   Multiple users, groups and capabilities support</h3>
```none
Symbol:     CONFIG_MULTIUSER

Help:       This option enables support for non-root users, groups and
            capabilities.

            If you say N here, all processes will run with UID 0, GID 0, and all
            possible capabilities.  Saying N here also compiles out support for
            system calls related to UIDs, GIDs, and capabilities, such as setuid,
            setgid, and capset.

            If unsure, say Y here.

Type:       boolean

Choice:     built-in [*]

Reason:     I need support for non-root users, groups and capabilities; therefore,
            I inluded this.

            I don't see any sane reason in excluding it.
```
<h3>[ ]   sgetmask/ssetmask syscalls support</h3>
```none
Symbol:     CONFIG_SGETMASK_SYSCALL

Help:       sys_sgetmask and sys_ssetmask are obsolete system calls
            no longer supported in libc but still enabled by default in some
            architectures.

            If unsure, leave the default option here.

Type:       boolean

Choice:     excluded [ ]

Reason:     Obsolete system calls that didn't break my system when excluded.
```
<h3>[ ]   Sysfs syscall support</h3>
```none
Symbol:     CONFIG_SYSFS_SYSCALL

Help:       sys_sysfs is an obsolete system call no longer supported in libc.
            Note that disabling this option is more secure but might break
            compatibility with some systems.

            If unsure say Y here.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option safely, and my system didn't break, and I didn't
            recieve ACPI warnings.

            If you think I shouldn't be disabling this please post a comment
            or send me an email explaining why.
```
<h3>[ ]   Sysctl syscall support</h3>
```none
Symbol:     CONFIG_SYSCTL_SYSCALL

Help:       sys_sysctl uses binary paths that have been found challenging
            to properly maintain and use.  The interface in /proc/sys
            using paths with ascii names is now the primary path to this
            information.

            Almost nothing using the binary sysctl interface so if you are
            trying to save some space it is probably safe to disable this,
            making your kernel marginally smaller.

            If unsure say N here.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option safely, and my system didn't break, and I didn't
            recieve ACPI warnings.

            If you think I shouldn't be disabling this please post a comment
            or send me an email explaining why.
```
<h3>[&ast;]   Posix Clocks & timers</h3>
```none
Symbol:     CONFIG_POSIX_TIMERS

Help:       This includes native support for POSIX timers to the kernel.
            Some embedded systems have no use for them and therefore they
            can be configured out to reduce the size of the kernel image.

            When this option is disabled, the following syscalls won't be
            available: timer_create, timer_gettime: timer_getoverrun,
            timer_settime, timer_delete, clock_adjtime, getitimer,
            setitimer, alarm. Furthermore, the clock_settime, clock_gettime,
            clock_getres and clock_nanosleep syscalls will be limited to
            CLOCK_REALTIME, CLOCK_MONOTONIC and CLOCK_BOOTTIME only.

            If unsure say y.

Type:       boolean

Choice:     boolean

Reason:     I included this option because one of my applications required it.
            
            You can exclude it if you're sure that no application is using it.
```
<h3>[ ]   Load all symbols for debugging/ksymoops</h3>
```none
Symbol:     CONFIG_KALLSYMS

Help:       Say Y here to let the kernel print out symbolic crash information and
            symbolic stack backtraces. This increases the size of the kernel
            somewhat, as all symbols have to be loaded into the kernel image.

Type:       boolean

Choice:     excluded [ ]

Reason:     I'm a simple man. I see the word debug, I exclude. (most of the times =D).
```
<h3>[&ast;]   Enable support for printk</h3>
```none
Symbol:     CONFIG_PRINTK

Help:       This option enables normal printk support. Removing it
            eliminates most of the message strings from the kernel image
            and makes the kernel more or less silent. As this makes it
            very difficult to diagnose system problems, saying N here is
            strongly discouraged.

Type:       boolean

Choice:     built-in [*]

Reason:     It's highly recommended to include this option (to enable dmesg and printk
            support).
```
<h3>[&ast;]   BUG() support</h3>
```none
Symbol:     CONFIG_BUG

Help:       Disabling this option eliminates support for BUG and WARN, reducing
            the size of your kernel image and potentially quietly ignoring
            numerous fatal conditions. You should only consider disabling this
            option for embedded systems with no facilities for reporting errors.
            Just say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     It's highly recommended that you include this option as it's useful
            for reporting several fatal conditions on your system.

            Exclude if space restricted on embedded systems.
```
<h3>[ ]   Enable PC-Speaker support</h3>
```none
Symbol:     CONFIG_PCSPKR_PLATFORM

Help:       This option allows to disable the internal PC-Speaker
            support, saving some memory.

Type:       boolean

Choice:     excluded [ ]

Reason:     This will only disable beeping on your system, and won't affect normal
            sound in any way.

            Exclude only if you want to disable beeping from the kernel (as you can
            do that from userspace).
```
<h3>[&ast;]   Enable full-sized data structures for core</h3>
```none
Symbol:     CONFIG_BASE_FULL

Help:       Disabling this option reduces the size of miscellaneous core
            kernel data structures. This saves memory on small machines,
            but may reduce performance.

Type:       boolean

Choice:     built-in [*]

Reason:     I'm not memory restricted and I don't want to reduce performance; therefore,
            I included this option.
```
<h3>[&ast;]   Enable futex support</h3>
```none
Symbol:     CONFIG_FUTEX

Help:       Disabling this option will cause the kernel to be built without
            support for "fast userspace mutexes".  The resulting kernel may not
            run glibc-based applications correctly.

Type:       boolean

Choice:     built-in [*]

Reason:     Many parts of my system and most of my applications are glibc-based; therefore,
            I included this option.
```
<h3>[&ast;]   Enable eventpoll support[*]</h3>
```none
Symbol:     CONFIG_EPOLL

Help:       Disabling this option will cause the kernel to be built without
            support for epoll family of system calls.

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option, as it's required by CONFIG_GENTOO_LINUX and
            CONFIG_GENTOO_LINUX_UDEV.
```
<h3>[&ast;]   Enable signalfd() system call</h3>
```none
Symbol:     CONFIG_SIGNALFD

Help:       Enable the signalfd() system call that allows to receive signals
            on a file descriptor.
          
            If unsure, say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option, as it's required by CONFIG_GENTOO_LINUX and
            CONFIG_GENTOO_LINUX_UDEV.
```
<h3>[&ast;]   Enable timerfd() system call</h3>
```none
Symbol:     CONFIG_TIMERFD

Help:       Enable the timerfd() system call that allows to receive timer
            events on a file descriptor.

            If unsure, say Y. 

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option, as it's required by CONFIG_GENTOO_LINUX and
            CONFIG_GENTOO_LINUX_UDEV.
```
<h3>[&ast;]   Enable eventfd() system call</h3>
```none
Symbol:     CONFIG_EVENTFD

Help:       Enable the eventfd() system call that allows to receive both
            kernel notification (ie. KAIO) or userspace notifications.
          
            If unsure, say Y.

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option, as it's required by CONFIG_GENTOO_LINUX and
            CONFIG_GENTOO_LINUX_UDEV.
```
<h3>[ ] Enable bpf() system call</h3>
```none
Symbol:     CONFIG_BPF_SYSCALL

Help:       Enable the bpf() system call that allows to manipulate eBPF
            programs and maps via file descriptors.

Type:       boolean

Choice:     excluded [ ]

Reason:     I'm not using any eBPF program; therefore, I excluded this option

            If you think I shouldn't be excluding this option, please post a comment
            below or send me an email explaining why.
```
<h3>-&ast;- Use full shmem filesystem</h3>
```none
Symbol:     CONFIG_SHMEM

Help:       The shmem is an internal filesystem used to manage shared memory.
            It is backed by swap and manages resource limits. It is also exported
            to userspace as tmpfs if TMPFS is enabled. Disabling this
            option replaces shmem and tmpfs with the much simpler ramfs code,
            which may be appropriate on small systems without swap.

Type:       boolean

Choice:     built-in -*-

Reason:     This option is forcibly included as it's already required by 
            CONFIG_GENTOO_LINUX, CONFIG_GENTOO_LINUX_UDEV, DRM_I915 and 
            many more options. Another reason is that I'm using swap as well.
```
<h3>[ ] Enable AIO support</h3>
```none
Symbol:     CONFIG_AIO

Help:       This option enables POSIX asynchronous I/O which may by used
            by some high performance threaded applications. Disabling
            this option saves about 7k.

Type:       boolean

Choice:     excluded [ ]

Reason:     I've read a lot of bad things about this and my system didn't
            break when I excluded it.

            If you think  I shouldn't be excluding this option, kindly
            post a comment below or send me an email explaining why.
```
<h3>[&ast;] Enable madvise/fadvise syscalls</h3>
```none
Symbol:     CONFIG_ADVISE_SYSCALLS

Help:       This option enables the madvise and fadvise syscalls, used by
            applications to advise the kernel about their future memory or file
            usage, improving performance. If building an embedded system where no
            applications use these syscalls, you can disable this option to save
            space.

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option because it improves performance and I'm not building
            an embedded system. Another reason is that some applications on my system
            needed it.
```
<h3>[ ] Enable userfaultfd() system call</h3>
```none
Symbol:     CONFIG_USERFAULTD

Help:       Enable the userfaultfd() system call that allows to intercept and
            handle page faults in userland.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option as it neither broke my system nor it was required
            by any other option or application.

            If you think  I shouldn't be excluding this option, kindly
            post a comment below or send me an email explaining why.
```
<h3>[&ast;] Enable PCI quirk workarounds</h3>
```none
Symbol:     CONFIG_PCI_QUIRKS

Help:       This enables workarounds for various PCI chipset
            bugs/quirks. Disable this only if your target machine is
            unaffected by PCI quirks.

Type:       boolean

Choice:     built-in [*]

Reason:     I included this option as it's very useful.
```
<h3>[ ] Enable membarrier() system call</h3>
```none
Symbol:     CONFIG_MEMBARRIER

Help:       Enable the membarrier() system call that allows issuing memory
            barriers across all running threads, which can be used to distribute
            the cost of user-space memory barriers asymmetrically by transforming
            pairs of memory barriers into pairs consisting of membarrier() and a
            compiler barrier.

            If unsure, say Y.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option as it neither broke my system nor was needed
            by any application.
          
            If you think  I shouldn't be excluding this option, kindly
            post a comment below or send me an email explaining why.
```
<h3>[ ] Embedded system</h3>
```none
Symbol:     CONFIG_EMBEDDED

Help:       This option should be enabled if compiling the kernel for
            an embedded system so certain expert options are available
            for configuration.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option as I'm not cross compiling this kernel for
            an embedded system and I'm planning on using it on my laptop.
```
<h3>[ ] PC/104 support</h3>
```none
Symbol:     CONFIG_PC104

Help:       Expose PC/104 form factor device drivers and options available for
            selection and configuration. Enable this option if your target
            machine has a PC/104 bus.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option since my target machine doesn't have a PC/104 bus.
            (This is mainly for embedded applications).
```
<h3>Kernel Performance Events And Counters  ---></h3>
<h3>-&ast;- Kernel performance events and counters</h3>
```none
Symbol:     CONFIG_PERF_EVENTS

Help:       Enable kernel support for various performance events provided
            by software and hardware.

            Software events are supported either built-in or via the
            use of generic tracepoints.

            Most modern CPUs support performance events via performance
            counter registers. These registers count the number of certain
            types of hw events: such as instructions executed, cachemisses
            suffered, or branches mis-predicted - without slowing down the
            kernel or applications. These registers can also trigger interrupts
            when a threshold number of events have passed - and can thus be
            used to profile the code that runs on that CPU.

            The Linux Performance Event subsystem provides an abstraction of
            these software and hardware event capabilities, available via a
            system call and used by the "perf" utility in tools/perf/. It
            provides per task and per CPU counters, and it provides event
            capabilities on top of those.
          
            Say Y if unsure.

Type:       boolean

Choice:     built-in -*-

Reason:     Forcibly included by many important options.
```
<h3>[ ]   Debug: use vmalloc to back perf mmap() buffers</h3>
```none
Symbol:     CONFIG_DEBUG_PERF_USE_VMALLOC

Help:       Use vmalloc memory to back perf mmap() buffers.

            Mostly useful for debugging the vmalloc code on platforms
            that don't require it.

            Say N if unsure.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option as it's used for debugging purposes.
```
<h3>[ ] Enable VM event counters for /proc/vmstat</h3>
```none
Symbol:     CONFIG_VM_EVENT_COUNTERS

Help:       VM event counters are needed for event counts to be shown.
            This option allows the disabling of the VM event counters
            on EXPERT systems.  /proc/vmstat will only show page counts
            if VM event counters are disabled.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option for a more minimal kernel and for lesser
            system overhead.
          
            If you think I shouldn't be doing this please post a comment below
            or send me an email explaining why.
```
<h3>[ ] Enable SLUB debugging support</h3>
```none
Symbol:     CONFIG_SLUB_DEBUG

Help:       SLUB has extensive debug support features. Disabling these can
            result in significant savings in code size. This also disables
            SLUB sysfs support. /sys/slab will not exist and there will be
            no support for cache validation etc.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this as it's useful for debugging support for lesser
            overhead.
```
<h3>[&ast;] Disable heap randomization</h3>
```none
Symbol:     CONFIG_COMPAT_BRK

Help:       Randomizing heap placement makes heap exploits harder, but it
            also breaks ancient binaries (including anything libc5 based).
            This option changes the bootup default to heap randomization
            disabled, and can be overridden at runtime by setting
            /proc/sys/kernel/randomize_va_space to 2.

            On non-ancient distros (post-2000 ones) N is usually a safe choice. 

Type:       boolean

Choice:     built-in [*]

Reason:     This time including an option disables a feature for lesser overhead.
```
<h3>Choose SLAB allocator (SLUB (Unqueued Allocator))  ---></h3>
```none
Symbol:     CONFIG_SLUB

Help:       SLUB is a slab allocator that minimizes cache line usage
            instead of managing queues of cached objects (SLAB approach).
            Per cpu caching is realized using slabs of objects instead
            of queues of objects. SLUB can use memory efficiently
            and has enhanced diagnostics. SLUB is the default choice for
            a slab allocator.

Type:       boolean

Choice:     built-in [*]

Reason:     CONFIG_SLAB is super old and irrelevant nowadays and CONFIG_SLOB
            is for embedded systems with limited memory and storage space 
            (and will perform really bad when used on a regular desktop/laptop
            as it may take hours extracting a package), which leaves CONFIG_SLUB
            and it performs perfectly.
```
<h3>[ ] SLAB freelist randomization</h3>
```none
Symbol:     CONFIG_SLAB_FREELIST_RANDOM

Help:       Randomizes the freelist order used on creating new pages. This
            security feature reduces the predictability of the kernel slab
            allocator against heap overflows.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option because it's SLAB related.
```
<h3>[ ] SLUB per cpu partial cache</h3>
```none
Symbol:     CONFIG_SLUB_CPU_PARTIAL

Help:       Per cpu partial caches accellerate objects allocation and freeing
            that is local to a processor at the price of more indeterminism
            in the latency of the free. On overflow these caches will be cleared
            which requires the taking of locks that may cause latency spikes.
            Typically one would choose no for a realtime system.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option because I need a low-latency system.
```
<h3>[ ] Profiling support</h3>
```none
Symbol:     CONFIG_PROFILING

Help:       Say Y here to enable the extended profiling support mechanisms used
            by profilers such as OProfile.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded profiling support for a more minimal kernel and for lesser
            overhead.
```
<h3>[ ] Kprobes</h3>
```none
Symbol:     CONFIG_KPROBES

Help:       Kprobes allows you to trap at almost any kernel address and
            execute a callback function.  register_kprobe() establishes
            a probepoint and specifies the callback.  Kprobes is useful
            for kernel debugging, non-intrusive instrumentation and testing.
            If in doubt, say "N".

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option as it's used for debugging-testing the kernel
            for lesser system overhead.
```
<h3>[ ] Optimize very unlikely/likely branches</h3>
```none
Symbol:     CONFIG_JUMP_LABEL

Help:       This option enables a transparent branch optimization that
            makes certain almost-always-true or almost-always-false branch
            conditions even cheaper to execute within the kernel.

            Certain performance-sensitive kernel code, such as trace points,
            scheduler functionality, networking code and KVM have such
            branches and include support for this optimization technique.

            If it is detected that the compiler has support for "asm goto",
            the kernel will compile such branches with just a nop
            instruction. When the condition flag is toggled to true, the
            nop will be converted to a jump instruction to execute the
            conditional block of instructions.

            This technique lowers overhead and stress on the branch prediction
            of the processor and generally makes the kernel faster. The update
            of the condition is slower, but those are always very rare.

            ( On 32-bit x86, the necessary options added to the compiler
              flags may increase the size of the kernel slightly. )

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option as I didn't see any real advantage from it
            and it didn't break my system.

            If you think I shouldn't be doing this please post a comment below
            or send me an email explaining why.
```
<h3>[ ] GCC plugins  ----</h3>
```none
Symbol:     CONFIG_GCC_PLUGINS

Help:       GCC plugins are loadable modules that provide extra features to the
            compiler. They are useful for runtime instrumentation and static analysis.

            See Documentation/gcc-plugins.txt for details.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option because I don't have any need for extra loadable modules
            as my goal is a minimal kernel with lesser system overhead and low latency.
          
            If you think I shouldn't be doing this please post a comment below
            or send me an email explaining why.
```
<h3>Stack Protector buffer overflow detection (None)  ---></h3>
```none
Symbol:     CONFIG_CC_STACKPROTECTOR_NONE

Help:       Disable "stack-protector" GCC feature.

Type:       boolean

Choice:     built-in [*]

Reason:     I excluded stack-protector gcc feature because it adds some system overhead.
          
            If you wanted a more secure kernel, you should look into including it.
```
<h3>(28) Number of bits to use for ASLR of mmap base address</h3>
```none
Symbol:     CONFIG_ARCH_MMAP_RND_BITS

Help:       This value can be used to select the number of bits to use to
            determine the random offset to the base address of vma regions
            resulting from mmap allocations. This value will be bounded
            by the architecture's minimum and maximum supported values.

            This value can be changed after boot using the
            /proc/sys/vm/mmap_rnd_bits tunable 

Type:       integer

Choice:     (28) default
```
<h3>(8) Number of bits to use for ASLR of mmap base address for compatible applications</h3>
```none
Symbol:     CONFIG_ARCH_MMAP_RND_COMPAT_BITS

Help:       This value can be used to select the number of bits to use to
            determine the random offset to the base address of vma regions
            resulting from mmap allocations for compatible applications This
            value will be bounded by the architecture's minimum and maximum
            supported values.

            This value can be changed after boot using the
            /proc/sys/vm/mmap_rnd_compat_bits tunable

Type:       integer

Choice:     (8) default
```
<h3>[ ] Use a virtually-mapped stack</h3>
```none
Symbol:     CONFIG_VMAP_STACK

Help:       Enable this if you want the use virtually-mapped kernel stacks
            with guard pages.  This causes kernel stack overflows to be
            caught immediately rather than causing difficult-to-diagnose
            corruption.

            This is presently incompatible with KASAN because KASAN expects
            the stack to map directly to the KASAN shadow map using a formula
            that is incorrect if the stack is in vmalloc space.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded this option for a more minimal kernel and for lesser
            system overhead. You should include it if you want a more secure
            kernel.
          
            If you think I shouldn't be doing this please post a comment below
            or send me an email explaining why.
```
<h3>[ ] Perform full reference count validation at the expense of speed</h3>
```none
Symbol:     CONFIG_REFCOUNT_FULL

Help:       Enabling this switches the refcounting infrastructure from a fast
            unchecked atomic_t implementation to a fully state checked
            implementation, which can be (slightly) slower but provides protections
            against various use-after-free conditions that can be used in
            security flaw exploits.

Type:       boolean

Choice:     excluded [ ]

Reason:     You can safely exclude this option as it adds a slight overhead to your
            system.

            Include this option if you want more security against similar security
            flaw exploits.
```
<h3>GCOV-based kernel profiling  ---></h3>
<h3>[ ] Enable gcov-based kernel profiling</h3>
```none
Symbol:     CONFIG_GCOV_KERNEL

Help:       This option enables gcov-based code profiling (e.g. for code coverage
            measurements).

            If unsure, say N.

            Additionally specify CONFIG_GCOV_PROFILE_ALL=y to get profiling data
            for the entire kernel. To enable profiling for specific files or
            directories, add a line similar to the following to the respective
            Makefile:

            For a single file (e.g. main.o):
                    GCOV_PROFILE_main.o := y

            For all files in one directory:
                    GCOV_PROFILE := y

            To exclude files from being profiled even when CONFIG_GCOV_PROFILE_ALL
            is specified, use:

                    GCOV_PROFILE_main.o := n
            and:
                    GCOV_PROFILE := n

            Note that the debugfs filesystem has to be mounted to access
            profiling data.

Type:       boolean

Choice:     excluded [ ]

Reason:     I excluded it because I don't want profiling support on my system.
```
<hr/>
<h3>Chinese Translation</h3>
One of DOTSLASHLINUX's followers from china 杨鑫 (Yang Mame), decided to follow up with the series and provide chinese translation of the kernel configuration guides on his blog.
<br/>
<br/>
To read this guide in chinese <a href="https://blog.yangmame.top/2017/09/10/linux%e5%86%85%e6%a0%b8%e9%85%8d%e7%bd%ae%e6%8c%87%e5%8d%97-general-setup/" target="_blank">click here</a>.
