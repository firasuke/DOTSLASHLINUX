<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best slstatus Configuration | DOTSLASHLINUX</title>
    <meta name="description" content="DOTSLASHLINUX is a GNU/Linux enthusiasts' hub, featuring configuration guides for the linux kernel and several lightweight open source and free software.">
    <meta name="author" content="Firas Khalil Khana">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/c.css">
    <link rel="alternate" type="application/rss+xml" title="DOTSLASHLINUX RSS" href="/feed.xml">
  </head>
  <body>
    <div class="row middle-xs middle-sm middle-md middle-lg container">
      <div class="col-xs-12 center-xs col-sm-4 start-sm col-md-4 start-md col-lg-4 start-lg">
        <div class="box brand">
          <h1><a href="https://firasuke.github.io/DOTSLASHLINUX">DOTSLASHLINUX</a></h1>
        </div>
      </div>
      <div class="col-xs-12 center-xs col-sm-8 end-sm col-md-8 end-md col-lg-8 end-lg">
        <div class="box">
          <nav>
            <ul>
              <li class=""><a href="/">HOME</a></li>
              <li class=""><a href="/page/search/">SEARCH</a></li>
              <li><a href="/index.xml" style="color: #f26522;">RSS</a></li>
            </ul>
          </nav>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 content">
        <div class="box patreon">
          <p>Kindly support DOTSLASHLINUX on <a href="https://www.patreon.com/DOTSLASHLINUX" target="_target">Patreon</a> to keep the website up and running while remaining ads free.</p>
        </div>


<div class="box map">
  <h2>Best slstatus Configuration</h2>
  <div class="share">
    <a id="facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f" rel="nofollow" target="_blank">Facebook</a>
    <a id="twitter" href="https://www.twitter.com/intent/tweet?source=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f&text=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f" rel="nofollow" target="_blank">Twitter</a>
    <a id="googleplus" href="https://plus.google.com/share?url=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f" rel="nofollow" target="_blank">Google+</a>
    <a id="reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f" rel="nofollow" target="_blank">Reddit</a>
    <a id="linkedin" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f&source=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fbest-slstatus-configuration%2f" rel="nofollow" target="_blank">LinkedIn</a>
  </div>
  <div class="frame"><a href="/img/slstatus.png" target="_blank"><img src="/img/slstatus.png" alt="slstatus"></div></a>
    <div class="info">Firas Khalil Khana | 24/04/2017</div>
    <p>In this article I&rsquo;ll show you how to setup and configure slstatus the lightest status bar to use with dwm.
<br/>
<hr/>
<h3 id="Installation">1- Installation</h3>
<br/>
I highly recommend installing the source files for slstatus from github and compiling it from source. The official repos for Gentoo Linux and Arch Linux don&rsquo;t have slstatus (as far as I know); however, Void Linux seems to have it, but I don&rsquo;t recommend installing from the repos since it&rsquo;ll only worsen matters when trying to configure it. If you still want to download it from Void Linux&rsquo;s repos and managed to get to the configuration file, then execute the following:
<br/>
<br/>
Void Linux:</p>

<pre><code class="language-properties">xbps-install -Su &amp;&amp; xbps-install -S slstatus
</code></pre>

<p><br/>
What I recommend is doing this instead. Navigate to your home directory (any directory is fine but keep track of the directory you&rsquo;re using), and clone slstatus&rsquo;s github repo:</p>

<pre><code class="language-bash">cd ~ &amp;&amp; git clone https://github.com/drkhsh/slstatus
</code></pre>

<hr/>

<p><h3 id="Configuration">2- Configuration</h3>
<br/>
Navigate to your freshly cloned directory:</p>

<pre><code class="language-bash">cd ~/slstatus
</code></pre>

<p><br/>
Now we&rsquo;ll create a symlink just like we did with the dwm configuration file:</p>

<pre><code class="language-bash">ln -s ~/slstatus/config.def.h ~/slstatus/config.h
</code></pre>

<p><br/>
Now edit the file config.h with your beloved editor:</p>

<pre><code class="language-properties">vim ~/slstatus/config.h
</code></pre>

<p><br/>
Due to lack of documentation available, you may find it hard to get everything working the way you like it, but I&rsquo;ve been lucky enough to get mine working after the 20th try or so (not kidding :P). Here&rsquo;s my configuration file:</p>

<pre><code class="language-c,line-numbers">/* See LICENSE file for copyright and license details. */

/* interval between updates (in ms) */
/* default is 1000 */
static const int interval = 1000;

/* text to show if no value can be retrieved */
static const char unknown_str[] = &quot;n/a&quot;;

/* maximum output string length */
/* default is 2048 */
#define MAXLEN 256

/*
 * function             description                     argument
 *
 * battery_perc         battery percentage              battery name
 * battery_power        battery power usage             battery name
 * battery_state        battery charging state          battery name
 * cpu_perc             cpu usage in percent            NULL
 * cpu_freq             cpu frequency in MHz            NULL
 * datetime             date and time                   format string
 * disk_free            free disk space in GB           mountpoint path
 * disk_perc            disk usage in percent           mountpoint path
 * disk_total           total disk space in GB          mountpoint path
 * disk_used            used disk space in GB           mountpoint path
 * entropy              available entropy               NULL
 * gid                  GID of current user             NULL
 * hostname             hostname                        NULL
 * ipv4                 IPv4 address                    interface name
 * ipv6                 IPv6 address                    interface name
 * kernel_release       `uname -r`                      NULL
 * keyboard_indicators  caps/num lock indicators        NULL
 * load_avg             load average                    NULL
 * num_files            number of files in a directory  path
 * ram_free             free memory in GB               NULL
 * ram_perc             memory usage in percent         NULL
 * ram_total            total memory size in GB         NULL
 * ram_used             used memory in GB               NULL
 * run_command          custom shell command            command
 * swap_free            free swap in GB                 NULL
 * swap_perc            swap usage in percent           NULL
 * swap_total           total swap size in GB           NULL
 * swap_used            used swap in GB                 NULL
 * temp                 temperature in degree celsius   sensor file
 * uid                  UID of current user             NULL
 * uptime               system uptime                   NULL
 * username             username of current user        NULL
 * vol_perc             OSS/ALSA volume in percent      &quot;/dev/mixer&quot;
 * wifi_perc            WiFi signal in percent          interface name
 * wifi_essid           WiFi ESSID                      interface name
 */
static const struct arg args[] = {
  /* Displays the temperature read from the file /sys/class/thermal/thermal_zone0/temp , you can change that file
     to any other file that displays the temperature of certain components, you can even list multiple
     temperatures by duplicating it */ 
    { temp, &quot;[TEMP %sC] &quot;, &quot;/sys/class/thermal/thermal_zone0/temp&quot; },
	{ cpu_perc, &quot;[CPU %s%] &quot;, NULL },
	{ ram_perc, &quot;[RAM %s%] &quot;, NULL },
  /* If you have two sound cards (like me PCH/HDMI) then you may need to use /dev/mixer1 instead of /dev/mixer to get vol_perc working*/
	{ vol_perc, &quot;[VOL %s%] &quot;, &quot;/dev/mixer1&quot; },
  /* Displays battery's capacity, you need to specify the battery folder's name listed in /sys/class/power_supply,
     for me it's BAT0 and it'll automatically read the capacity file */
	{ battery_perc, &quot;[BAT %s%] &quot;, &quot;BAT0&quot; },
  /* Displays IPv4 address for the given network interface (which in my case is wlp3s0) in your local network */
	{ ipv4, &quot;[LAN IP %s] &quot;, &quot;enp4s0&quot; },
	{ ipv4, &quot;[WLAN IP %s] &quot;, &quot;wlp3s0&quot; },
	{ datetime, &quot;[%s]&quot;, &quot;%F %r&quot; }
}
</code></pre>

<p><br/>
If you were facing problems getting <mark>vol_perc</mark> working, then you may be specifying the wrong mixer as an argument. You see on laptops or any other setup that uses 2 sound cards (PCH,HDMI), you&rsquo;ll get 2 mixers in <mark>/dev</mark> the first being <mark>mixer</mark> and the second being <mark>mixer1</mark>.
<br/>
If so, simply use this instead:</p>

<pre><code class="language-c">{ vol_perc, &quot;[VOL %s] &quot;, &quot;/dev/mixer1&quot;},
</code></pre>

<hr/>

<p><h3 id="Starting_slstatus">3- Starting slstatus</h3>
After configuring slstatus, we now have to start it. To do that add the following to your .xinitrc:</p>

<pre><code class="language-properties">slstatus &amp;
</code></pre>

</div>
<div id="comments" class="box">
  <h3>4 Comments</h3>
  <div class="main-comment">
    <p>drkhsh</p>
    <p>08/05/2017</p>
    <hr/>
    <p><p>If there is no /dev/mixer on your system and you use ALSA, it means you have to load the OSS compatibility module by issuing:<mark>$ modprobe snd-pcm-oss</mark></p>

<p>That will fix your problem with the vol_perc() function!</p>

<p>Regards,
Aaron aka drkhsh, creator of slstatus ;)</p>
</p>
  </div>
  <div class="reply">
    <p>DOTSLASHLINUX</p>
    <p>08/05/2017</p>
    <hr/>
    <p><p>@drkhsh, it&rsquo;s a pleasure to have you on the website Aaron. Yup slstatus is something you should be proud of, it&rsquo;s the best statusbar to ever exist&hellip; The documentation is a little bit lacking though so you might want to look into that ;D</p>

<p>Thanks a ton for the suggestion; however, all my modules are built in and I&rsquo;ve disabled loading modules support for now so &ldquo;modprobe&rdquo; won&rsquo;t work for me.</p>

<p>I found another way to get the mixers to show in /dev, that is by enabling CONFIG_SOUND_OSS_CORE_PRECLAIM, and then specifying /dev/mixer1 instead of /dev/mixer which seems to have fixed the problem (at least on my end).</p>

<p>I&rsquo;ve updated the article accordingly.</p>
</p>
  </div>
  <div class="reply">
    <p>drkhsh</p>
    <p>09/05/2017</p>
    <hr/>
    <p>@DOTSLASHLINUX, Thank you very much. I am very proud the someone actually uses my statusbar! :) I will have a look in the documentation! What exactly is lacking? I am happy that you found a solution!</p>
  </div>
  <div class="reply">
    <p>DOTSLASHLINUX</p>
    <p>09/05/2017</p>
    <hr/>
    <p>@drkhsh, you&rsquo;re most welcome. Well it wouldn&rsquo;t hurt to have an example under each function that can be uncommented to easily use it or something similar.</p>
  </div>
  <div id="leavecomment">
    <h3>Leave A Comment</h3>
    <form action="https://getsimpleform.com/messages?form_api_token=4458712617021cb12239cbfd2942b227" method="post">
      <input name="options[redirect]" type="hidden" value="https://firasuke.github.io/DOTSLASHLINUX/DOTSLASHLINUX/post/best-slstatus-configuration/#comments">
      <input name="options[slug]" type="hidden" value="best slstatus configuration">
      <input type="hidden" id="reply" name="fields[replying_to]" value="">
      <input name="fields[name]" type="text" placeholder="Name" required>
      <textarea rows="5" name="fields[comment]" placeholder="Your comment here.&#10;&#10;Comments support Markdown.&#10;&#10;Comments are being moderated to prevent spam so it may take a while before your comment is posted." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </div>
</div>

<div class="box footer">
  <h4>Copyrights &copy; 2017-2018 <a href="/">DOTSLASHLINUX</a> | Licensed under <a id="creativecommons" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a></h4>
</div>
</div>
</div>
<script src="/js/c.js"></script>
</body>
</html>

