<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Linux Kernel Configuration Guide Part 14 - Kernel hacking  ---&gt; | DOTSLASHLINUX</title>
    <meta name="description" content="DOTSLASHLINUX is a GNU/Linux enthusiasts' hub, featuring configuration guides for the linux kernel and several lightweight open source and free software.">
    <meta name="author" content="Firas Khalil Khana">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/c.css">
    <link rel="alternate" type="application/rss+xml" title="DOTSLASHLINUX RSS" href="/feed.xml">
  </head>
  <body>
    <div class="row middle-xs middle-sm middle-md middle-lg container">
      <div class="col-xs-12 center-xs col-sm-4 start-sm col-md-4 start-md col-lg-4 start-lg">
        <div class="box brand">
          <h1><a href="https://firasuke.github.io/DOTSLASHLINUX">DOTSLASHLINUX</a></h1>
        </div>
      </div>
      <div class="col-xs-12 center-xs col-sm-8 end-sm col-md-8 end-md col-lg-8 end-lg">
        <div class="box">
          <nav>
            <ul>
              <li class=""><a href="/">HOME</a></li>
              <li class=""><a href="/page/search/">SEARCH</a></li>
              <li><a href="/index.xml" style="color: #f26522;">RSS</a></li>
            </ul>
          </nav>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 content">
        <div class="box patreon">
          <p>Kindly support DOTSLASHLINUX on <a href="https://www.patreon.com/DOTSLASHLINUX" target="_target">Patreon</a> to keep the website up and running while remaining ads free.</p>
        </div>


<table>
  <tr>
    <th>Part</th>
    <th>Section</th>
    <th>Link</th>
  </tr>
  <tr>
    <td>1</td>
    <td>Intro</td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-1-introduction/">Click Here</a></td>
  </tr>
  <tr>
    <td>2</td>
    <td>[&lowast;] Gentoo Linux support  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-2-gentoo-linux-support/">Click Here</a></td>
  </tr>
  <tr>
    <td>3</td>
    <td>General setup  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-3-general-setup/">Click Here</a></td>
  </tr>
  <tr>
    <td>4</td>
    <td>[&lowast;] Enable loadable module support  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-4-enable-loadable-module-support/">Click Here</a></td>
  </tr>
  <tr>
    <td>5</td>
    <td>[&lowast;] Enable the block layer  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-5-enable-the-block-layer/">Click Here</a></td>
  </tr>
  <tr>
    <td>6</td>
    <td>Processor type and features  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-6-processor-type-and-features/">Click Here</a></td>
  </tr>
  <tr>
    <td>7</td>
    <td>Power management and ACPI options  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-7-power-management-and-acpi-options/">Click Here</a></td>
  </tr>
  <tr>
    <td>8</td>
    <td>Bus options (PCI etc.)  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-8-bus-options-pci-etc/">Click Here</a></td>
  </tr>
  <tr>
    <td>9</td>
    <td>Executable file formats / Emulations  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-9-executable-file-formats-emulations/">Click Here</a></td>
  </tr>
  <tr>
    <td>10</td>
    <td>[&lowast;] Networking support  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-10-networking-support/">Click Here</a></td>
  </tr>
  <tr>
    <td>11</td>
    <td>Device Drivers  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-11-device-drivers/">Click Here</a></td>
  </tr>
  <tr>
    <td>12</td>
    <td>Firmware Drivers  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-12-firmware-drivers/">Click Here</a></td>
  </tr>
  <tr>
    <td>13</td>
    <td>File systems  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-13-file-systems/">Click Here</a></td>
  </tr>
  <tr>
    <td>14</td>
    <td>Kernel hacking  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-14-kernel-hacking/">Click Here</a></td>
  </tr>
  <tr>
    <td>15</td>
    <td>Security options  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-15-security-options/">Click Here</a></td>
  </tr>
  <tr>
    <td>16</td>
    <td>-&lowast;- Cryptographic API  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-16-cryptographic-api/">Click Here</a></td>
  </tr>
  <tr>
    <td>17</td>
    <td>[&lowast;] Virtualization  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-17-virtualization/">Click Here</a></td>
  </tr>
  <tr>
    <td>18</td>
    <td>Library routines  ---></td>
    <td><a href="/post/the-linux-kernel-configuration-guide-part-18-library-routines/">Click Here</a></td>
  </tr>
</table>
<div class="box kernelmap">
  <pre><code class="language-properties">Kernel Sources:       sys-kernel/gentoo-sources

Kernel Version:       4.14.12

Last Updated on:      06/01/2018

Update Notice:        1- Excluded 'CONFIG_PAGE_TABLE_ISOLATION' in 'Security options --->'
                      2- Included 'CONFIG_STANDALONE' in 'Device Drivers  --->'
                      3- Included 'CONFIG_PREVENT_FIRMWARE_BUILD' in 'Device Drivers  --->'
                      4- Included 'CONFIG_X86_5LEVEL' in 'Processor type and features  --->'
                      5- Included 'CONFIG_ORC_UNWINDER' in 'Kernel hacking  --->'
                      6- Excluded QEMU-virtualization-related options in favor of VirtualBox
                      7- Excluded swap-related options
                      8- Excluded 32-bit support
                      9- Switched from XFS to EXT4

Priorities:           1- high performance
                      2- minimal
                      3- low memory footprint
                      4- small size
                      5- power saving
                      6- security
                      7- low-latency

Total Options:        2469 (grep -c 'CONFIG_' DOTSLASHLINUX.config)

Included Options:     645 (grep -c '=y' DOTSLASHLINUX.config)

Excluded Options:     1761 (grep -c 'is not set' DOTSLASHLINUX.config)

Final Size (LZ4):     5,644,240 Bytes

Patches Applied:      1- UKSM-4.14 Patch (https://github.com/dolohow/uksm/blob/master/uksm-4.14.patch)

Contributors:         Firas Khalil Khana [irc: firas] [email: firasuke@gmail.com]

Side Notes:           1- Options that aren't listed here are excluded [ ].
                      2- These guides provide users with a solid starting setup to build on.
                      3- These guides are constantly being updated.
                      4- If there's something I didn't explain properly or I misexplained
                         then please do let me know either by kindly leaving a comment below
                         or by sending me an email on: firasuke@gmail.com</code></pre>
</div>

<div class="box map">
  <h2>The Linux Kernel Configuration Guide Part 14 - Kernel hacking  ---&gt;</h2>
  <div class="share">
    <a id="facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f" rel="nofollow" target="_blank">Facebook</a>
    <a id="twitter" href="https://www.twitter.com/intent/tweet?source=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f&text=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f" rel="nofollow" target="_blank">Twitter</a>
    <a id="googleplus" href="https://plus.google.com/share?url=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f" rel="nofollow" target="_blank">Google+</a>
    <a id="reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f" rel="nofollow" target="_blank">Reddit</a>
    <a id="linkedin" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f&source=https%3a%2f%2ffirasuke.github.io%2fDOTSLASHLINUX%2fpost%2fthe-linux-kernel-configuration-guide-part-14-kernel-hacking%2f" rel="nofollow" target="_blank">LinkedIn</a>
  </div>
  <div class="frame"><a href="/img/kernel14.png" target="_blank"><img src="/img/kernel14.png" alt="kernel14"></div></a>
    <div class="info">Firas Khalil Khana | 14/09/2017</div>
    <p><h3>Kernel hacking  &mdash;&gt;</h3>
<h3>printk and dmesg options  &mdash;&gt;</h3>
<h3>[&lowast;] Show timing information on printks</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_PRINTK_TIME

Help:       Selecting this option causes time stamps of the printk()
            messages to be added to the output of the syslog() system
            call and at the console.

            The timestamp is always recorded internally, and exported
            to /dev/kmsg. This flag just specifies if the timestamp should
            be included, not that the timestamp is recorded.

            The behavior is also controlled by the kernel command line
            parameter printk.time=1. See Documentation/admin-guide/kernel-parameters.rst

Type:       boolean

Choice:     built-in [∗]

Reason:     It's highly recommended that you include this option in your kernel
            as timestamps add another level of precision to your system logs.
</code></pre>

<p><h3>(15) Default console loglevel (1-15)</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_CONSOLE_LOGLEVEL_DEFAULT

Help:       Default loglevel to determine what will be printed on the console.

            Setting a default here is equivalent to passing in loglevel=&lt;x&gt; in
            the kernel bootargs. loglevel=&lt;x&gt; continues to override whatever
            value is specified here as well.

            Note: This does not affect the log level of un-prefixed printk()
            usage in the kernel. That is controlled by the MESSAGE_LOGLEVEL_DEFAULT
            option.

Type:       integer

Choice:     (15) custom

Reason:     It's recommended that you set the value of this option to a value
            that ensures enough verbosity is being used.

            If you've already excluded a bunch of debugging options to minimize
            system overhead, then you'd likely want to set the value of this
            option and CONFIG_MESSAGE_LOGLEVEL_DEFAULT to a high enough value
            to get enough information.
</code></pre>

<p><h3>(7) Default message log level (1-7)</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_MESSAGE_LOGLEVEL_DEFAULT

Help:       Default log level for printk statements with no specified priority.

            This was hard-coded to KERN_WARNING since at least 2.6.10 but folks
            that are auditing their logs closely may want to set it to a lower
            priority.

            Note: This does not affect what message level gets printed on the console
            by default. To change that, use loglevel=&lt;x&gt; in the kernel bootargs,
            or pick a different CONSOLE_LOGLEVEL_DEFAULT configuration value.

Type:       integer

Choice:     (7) custom

Reason:     It's recommended that you set the value of this option to a value
            that ensures enough verbosity is being used.

            If you've already excluded a bunch of debugging options to minimize
            system overhead, then you'd likely want to set the value of this
            option and CONFIG_CONSOLE_LOGLEVEL_DEFAULT to a high enough value
            to get enough information.
</code></pre>

<p><h3>Compile-time checks and compiler options  &mdash;&gt;</h3>
<h3>(0) Warn for stack frames larger than (needs gcc 4.4)</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_FRAME_WARN

Help:       Tell gcc to warn at build time for stack frames larger than this.
            Setting this too low will cause a lot of warnings.
            Setting it to 0 disables the warning.
            Requires gcc 4.4 

Type:       integer

Choice:     (0) custom

Reason:     If you can live with the warnings then don't disable this option.
</code></pre>

<p><h3>-&lowast;- Kernel debugging</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_DEBUG_KERNEL

Help:       Say Y here if you are developing drivers or trying to debug and
            identify kernel problems.

Type:       boolean

Choice:     built-in -∗-

Reason:     Forcibly included by CONFIG_EXPERT.
</code></pre>

<p><h3>(0) panic timeout</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_PANIC_TIMEOUT

Help:       Set the timeout value (in seconds) until a reboot occurs when the
            the kernel panics. If n = 0, then we wait forever. A timeout
            value n &gt; 0 will wait n seconds before rebooting, while a timeout
            value n &lt; 0 will reboot immediately.

Type:       integer

Choice:     (0) custom

Reason:     Setting the value of this option to (0) will give you all the time
            you want to carefully examine the cause of the kernel panic.
</code></pre>

<p><h3>RCU Debugging  &mdash;&gt;</h3>
<h3>(3) RCU CPU stall timeout in seconds</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_RCU_CPU_STALL_TIMEOUT

Help:       If a given RCU grace period extends more than the specified
            number of seconds, a CPU stall warning is printed.  If the
            RCU grace period persists, additional CPU stall warnings are
            printed at more widely spaced intervals.

Type:       integer

Choice:     (3) custom
</code></pre>

<p><h3>    IO delay type (no port-IO delay)  &mdash;&gt;</h3>
<h3>(X) no port-IO delay</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_IO_DELAY_NONE

Help:       No port-IO delay. Will break on old boxes that require port-IO
            delay for certain operations. Should work on most new machines.

Type:       boolean

Choice:     built-in (X)

Reason:     It's highly recommended that you include this option in your kernel
            if you're on a modern system.
</code></pre>

<p><h3>    Choose kernel unwinder (ORC unwinder)  &mdash;&gt;</h3>
<h3>(X) ORC unwinder</h3></p>

<pre><code class="language-properties">Symbol:     CONFIG_ORC_UNWINDER

Help:       This option enables the ORC (Oops Rewind Capability) unwinder for
            unwinding kernel stack traces.  It uses a custom data format which is
            a simplified version of the DWARF Call Frame Information standard.
            
            This unwinder is more accurate across interrupt entry frames than the
            frame pointer unwinder.  It also enables a 5-10% performance
            improvement across the entire kernel compared to frame pointers.

            Enabling this option will increase the kernel's runtime memory usage
            by roughly 2-4MB, depending on your kernel config.

Type:       boolean

Choice:     built-in (X)

Reason:     It's highly recommended that you include this option in your kernel
            as it provides better performance over other unwinders as it disables
            frame pointers thus making certain system calls faster by at least 1%
            up to 10%.
</code></pre>

<hr/>

<p><h3>Chinese Translation</h3>
One of DOTSLASHLINUX followers 杨鑫 (Yang Mame) from China, decided to follow up with the series and provide Chinese translation of the kernel configuration guides on his blog.
<br/>
<br/>
To read this guide in Chinese <a href="https://blog.yangmame.top/Linux内核配置指南-Kernel-hacking-Library-routines-The-End.html" target="_blank">click here</a>.</p>

</div>
<div id="comments" class="box">
  
  <div id="leavecomment">
    <h3>Leave A Comment</h3>
    <form action="https://getsimpleform.com/messages?form_api_token=4458712617021cb12239cbfd2942b227" method="post">
      <input name="options[redirect]" type="hidden" value="https://firasuke.github.io/DOTSLASHLINUX/DOTSLASHLINUX/post/the-linux-kernel-configuration-guide-part-14-kernel-hacking/#comments">
      <input name="options[slug]" type="hidden" value="the linux kernel configuration guide part 14 kernel hacking">
      <input type="hidden" id="reply" name="fields[replying_to]" value="">
      <input name="fields[name]" type="text" placeholder="Name" required>
      <textarea rows="5" name="fields[comment]" placeholder="Your comment here.&#10;&#10;Comments support Markdown.&#10;&#10;Comments are being moderated to prevent spam so it may take a while before your comment is posted." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </div>
</div>

<div class="box footer">
  <h4>Copyrights &copy; 2017-2018 <a href="/">DOTSLASHLINUX</a> | Licensed under <a id="creativecommons" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a></h4>
</div>
</div>
</div>
<script src="/js/c.js"></script>
</body>
</html>

